<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.3.1">
  <compounddef id="db__layer_8py" kind="file">
    <compoundname>db_layer.py</compoundname>
    <innerclass refid="classdb__layer_1_1_alchemy_encoder" prot="public">db_layer::AlchemyEncoder</innerclass>
    <innerclass refid="classdb__layer_1_1_database" prot="public">db_layer::Database</innerclass>
    <innerclass refid="classdb__layer_1_1_rule" prot="public">db_layer::Rule</innerclass>
    <innerclass refid="classdb__layer_1_1_groups" prot="public">db_layer::Groups</innerclass>
    <innerclass refid="classdb__layer_1_1_rol_type" prot="public">db_layer::RolType</innerclass>
    <innerclass refid="classdb__layer_1_1_user" prot="public">db_layer::User</innerclass>
    <innerclass refid="classdb__layer_1_1_group" prot="public">db_layer::Group</innerclass>
    <innerclass refid="classdb__layer_1_1_u_r_i_s" prot="public">db_layer::URIS</innerclass>
    <innerclass refid="classdb__layer_1_1_w_o_r_d_s" prot="public">db_layer::WORDS</innerclass>
    <innerclass refid="classdb__layer_1_1_m_i_m_e_s" prot="public">db_layer::MIMES</innerclass>
    <innernamespace refid="namespacedb__layer">db_layer</innernamespace>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1" refid="namespacedb__layer" refkind="compound"><highlight class="comment">#!/usr/bin/python</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="2"><highlight class="normal"></highlight><highlight class="comment">#<sp/>-*-<sp/>coding:<sp/>utf-8<sp/>-*-</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="3"><highlight class="normal"></highlight><highlight class="comment">#<sp/>vim:<sp/>ts=4:sw=4:sts=4:ai:et:fileencoding=utf-8:number</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="4"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>sys</highlight></codeline>
<codeline lineno="5"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>sys.version_info<sp/>&lt;<sp/>(3,<sp/>0):</highlight></codeline>
<codeline lineno="6" refid="namespacedb__layer_1a8fd2ce6ee0abd7a51e1ec8fe295a5a6b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>python_OldVersion<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="7"><highlight class="normal"></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="8"><highlight class="normal"><sp/><sp/><sp/><sp/>python_OldVersion<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="9"><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>sqlalchemy<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Column,<sp/>ForeignKey,<sp/>Integer,<sp/>String,<sp/>Boolean,<sp/>Table,<sp/>or_,<sp/>CHAR,<sp/>Enum,<sp/><sp/>create_engine,<sp/>MetaData,<sp/>event</highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>sqlalchemy.orm<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>relationship,<sp/>scoped_session,<sp/>sessionmaker</highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>sqlalchemy.ext.declarative<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>declarative_base,<sp/><sp/>DeclarativeMeta</highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>sqlalchemy.pool<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>NullPool</highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>datetime</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>python_OldVersion:</highlight></codeline>
<codeline lineno="17"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>string</highlight></codeline>
<codeline lineno="18"><highlight class="normal"></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>binascii</highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="keyword">from</highlight><highlight class="normal"><sp/>Config<sp/></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>Config</highlight></codeline>
<codeline lineno="22" refid="namespacedb__layer_1a649e55a17a43790deef2961f2ca5c396" refkind="member"><highlight class="normal">MAXUSERS<sp/>=<sp/>1024</highlight></codeline>
<codeline lineno="23" refid="namespacedb__layer_1aa86922899182c14d523d4d72a501089b" refkind="member"><highlight class="normal">MAXGROUPS<sp/>=<sp/>65536</highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight></codeline>
<codeline lineno="25" refid="namespacedb__layer_1a7ed1ca76a740523975d0736208ae1f65" refkind="member"><highlight class="normal">DRIVER<sp/>=<sp/>Config.dbFiles[</highlight><highlight class="stringliteral">&apos;proxy&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="26" refid="namespacedb__layer_1ad65ee0b7707a738bc9f93587eebd04f6" refkind="member"><highlight class="normal">TraceSQL<sp/>=<sp/>Config.dbTrace[</highlight><highlight class="stringliteral">&apos;proxy&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight></codeline>
<codeline lineno="28" refid="namespacedb__layer_1ad6378d01c39f29fff5832fab694e3a9f" refkind="member"><highlight class="normal">engine<sp/>=<sp/>create_engine(DRIVER,<sp/>echo=TraceSQL,poolclass=NullPool)</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight></codeline>
<codeline lineno="30" refid="namespacedb__layer_1abf9d884063baa5841f513855cff66c26" refkind="member"><highlight class="normal">Base<sp/>=<sp/>declarative_base()</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight></codeline>
<codeline lineno="32"><highlight class="normal"></highlight></codeline>
<codeline lineno="33" refid="namespacedb__layer_1afb05786606d962ab2909e3436e531854" refkind="member"><highlight class="normal">HOURS_IDX<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>0:<sp/></highlight><highlight class="stringliteral">&apos;H00_M&apos;</highlight><highlight class="normal">,<sp/><sp/>1:<sp/></highlight><highlight class="stringliteral">&apos;H01_M&apos;</highlight><highlight class="normal">,<sp/><sp/>2:<sp/></highlight><highlight class="stringliteral">&apos;H02_M&apos;</highlight><highlight class="normal">,<sp/><sp/>3:<sp/></highlight><highlight class="stringliteral">&apos;H03_M&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>4:<sp/></highlight><highlight class="stringliteral">&apos;H04_M&apos;</highlight><highlight class="normal">,<sp/><sp/>5:<sp/></highlight><highlight class="stringliteral">&apos;H05_M&apos;</highlight><highlight class="normal">,<sp/><sp/>6:<sp/></highlight><highlight class="stringliteral">&apos;H06_M&apos;</highlight><highlight class="normal">,<sp/><sp/>7:<sp/></highlight><highlight class="stringliteral">&apos;H07_M&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/>8:<sp/></highlight><highlight class="stringliteral">&apos;H08_M&apos;</highlight><highlight class="normal">,<sp/><sp/>9:<sp/></highlight><highlight class="stringliteral">&apos;H09_M&apos;</highlight><highlight class="normal">,<sp/>10:<sp/></highlight><highlight class="stringliteral">&apos;H10_M&apos;</highlight><highlight class="normal">,<sp/>11:<sp/></highlight><highlight class="stringliteral">&apos;H11_M&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/>12:<sp/></highlight><highlight class="stringliteral">&apos;H12_M&apos;</highlight><highlight class="normal">,<sp/>13:<sp/></highlight><highlight class="stringliteral">&apos;H13_M&apos;</highlight><highlight class="normal">,<sp/>14:<sp/></highlight><highlight class="stringliteral">&apos;H14_M&apos;</highlight><highlight class="normal">,<sp/>15:<sp/></highlight><highlight class="stringliteral">&apos;H15_M&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/>16:<sp/></highlight><highlight class="stringliteral">&apos;H16_M&apos;</highlight><highlight class="normal">,<sp/>17:<sp/></highlight><highlight class="stringliteral">&apos;H17_M&apos;</highlight><highlight class="normal">,<sp/>18:<sp/></highlight><highlight class="stringliteral">&apos;H18_M&apos;</highlight><highlight class="normal">,<sp/>19:<sp/></highlight><highlight class="stringliteral">&apos;H19_M&apos;</highlight><highlight class="normal">,</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/>20:<sp/></highlight><highlight class="stringliteral">&apos;H20_M&apos;</highlight><highlight class="normal">,<sp/>21:<sp/></highlight><highlight class="stringliteral">&apos;H21_M&apos;</highlight><highlight class="normal">,<sp/>22:<sp/></highlight><highlight class="stringliteral">&apos;H22_M&apos;</highlight><highlight class="normal">,<sp/>23:<sp/></highlight><highlight class="stringliteral">&apos;H23_M&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="40"><highlight class="normal">}</highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight></codeline>
<codeline lineno="42" refid="namespacedb__layer_1ad6ee299a7034867156fb8100ec6864d7" refkind="member"><highlight class="normal">HOURS_MASK<sp/>=<sp/>{</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>2<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>1<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>321098765432109876543210</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;NON_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b000000000000000000000000,<sp/><sp/></highlight><highlight class="comment">#<sp/>NONE<sp/>ASIGNED</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H00_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b000000000000000000000001,<sp/><sp/></highlight><highlight class="comment">#<sp/>00.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H01_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b000000000000000000000010,<sp/><sp/></highlight><highlight class="comment">#<sp/>01.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H02_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b000000000000000000000100,<sp/><sp/></highlight><highlight class="comment">#<sp/>02.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H03_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b000000000000000000001000,<sp/><sp/></highlight><highlight class="comment">#<sp/>03.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H04_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b000000000000000000010000,<sp/><sp/></highlight><highlight class="comment">#<sp/>04.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H05_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b000000000000000000100000,<sp/><sp/></highlight><highlight class="comment">#<sp/>05.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H06_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b000000000000000001000000,<sp/><sp/></highlight><highlight class="comment">#<sp/>06.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H07_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b000000000000000010000000,<sp/><sp/></highlight><highlight class="comment">#<sp/>07.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H08_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b000000000000000100000000,<sp/><sp/></highlight><highlight class="comment">#<sp/>08.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H09_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b000000000000001000000000,<sp/><sp/></highlight><highlight class="comment">#<sp/>09.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H10_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b000000000000010000000000,<sp/><sp/></highlight><highlight class="comment">#<sp/>10.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H11_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b000000000000100000000000,<sp/><sp/></highlight><highlight class="comment">#<sp/>11.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H12_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b000000000001000000000000,<sp/><sp/></highlight><highlight class="comment">#<sp/>12.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H13_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b000000000010000000000000,<sp/><sp/></highlight><highlight class="comment">#<sp/>13.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H14_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b000000000100000000000000,<sp/><sp/></highlight><highlight class="comment">#<sp/>14.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H15_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b000000001000000000000000,<sp/><sp/></highlight><highlight class="comment">#<sp/>15.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H16_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b000000010000000000000000,<sp/><sp/></highlight><highlight class="comment">#<sp/>16.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H17_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b000000100000000000000000,<sp/><sp/></highlight><highlight class="comment">#<sp/>17.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H18_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b000001000000000000000000,<sp/><sp/></highlight><highlight class="comment">#<sp/>18.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H19_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b000010000000000000000000,<sp/><sp/></highlight><highlight class="comment">#<sp/>19.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H20_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b000100000000000000000000,<sp/><sp/></highlight><highlight class="comment">#<sp/>20.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="67"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H21_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b001000000000000000000000,<sp/><sp/></highlight><highlight class="comment">#<sp/>21.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="68"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H22_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b010000000000000000000000,<sp/><sp/></highlight><highlight class="comment">#<sp/>22.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;H23_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b100000000000000000000000,<sp/><sp/></highlight><highlight class="comment">#<sp/>23.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;NIG_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b111000000000000011111111,<sp/><sp/></highlight><highlight class="comment">#<sp/>00.xxh<sp/>-<sp/>07.xxh<sp/>&amp;&amp;<sp/>21.xxh-23.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;DAY_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b000111111111111100000000,<sp/><sp/></highlight><highlight class="comment">#<sp/>08.xxh<sp/>-<sp/>20.xxh<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;ALL_M&apos;</highlight><highlight class="normal"><sp/>:<sp/>0b111111111111111111111111<sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>ALL<sp/>hours<sp/>mask</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal">}</highlight></codeline>
<codeline lineno="75"><highlight class="normal"></highlight></codeline>
<codeline lineno="76"><highlight class="normal"></highlight></codeline>
<codeline lineno="77"><highlight class="normal"></highlight><highlight class="keyword">import</highlight><highlight class="normal"><sp/>json</highlight></codeline>
<codeline lineno="78"><highlight class="normal"></highlight><highlight class="comment">#import<sp/>simplejson<sp/>as<sp/>json</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="79"><highlight class="normal"></highlight></codeline>
<codeline lineno="80" refid="classdb__layer_1_1_alchemy_encoder" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_alchemy_encoder" kindref="compound">AlchemyEncoder</ref>(json.JSONEncoder):</highlight></codeline>
<codeline lineno="81" refid="classdb__layer_1_1_alchemy_encoder_1abe41d36769d9edad84e480fed20c96f7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_alchemy_encoder_1abe41d36769d9edad84e480fed20c96f7" kindref="member">default</ref>(self,<sp/>obj):</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>isinstance(obj.__class__,<sp/>DeclarativeMeta):</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>an<sp/>SQLAlchemy<sp/>class</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fields<sp/>=<sp/>{}</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>field<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>[x<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>x<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>dir(obj)<sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>x.startswith(</highlight><highlight class="stringliteral">&apos;_&apos;</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>x<sp/>!=<sp/></highlight><highlight class="stringliteral">&apos;metadata&apos;</highlight><highlight class="normal">]:</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data<sp/>=<sp/>obj.__getattribute__(field)</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>json.dumps(data)<sp/></highlight><highlight class="comment">#<sp/>this<sp/>will<sp/>fail<sp/>on<sp/>non-encodable<sp/>values,<sp/>like<sp/>other<sp/>classes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fields[field]<sp/>=<sp/>data</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>TypeError:</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fields[field]<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>a<sp/>json-encodable<sp/>dict</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>fields</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>json.JSONEncoder.default(self,<sp/>obj)</highlight></codeline>
<codeline lineno="95"><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal">__bitwise_not_hours(hours):</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>hours<sp/>^<sp/>0xFFFFFF</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="100"><highlight class="stringliteral">@event.listens_for(engine,<sp/>&quot;connect&quot;)</highlight></codeline>
<codeline lineno="101"><highlight class="stringliteral">def<sp/>_fk_pragma_on_connect(dbapi_con,<sp/>con_record):</highlight></codeline>
<codeline lineno="102"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>dbapi_con.execute(&apos;PRAGMA<sp/>journal_mode=MEMORY&apos;)</highlight></codeline>
<codeline lineno="103"><highlight class="stringliteral">&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="104" refid="classdb__layer_1_1_database" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database" kindref="compound">Database</ref>:</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/>__initialized__<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/>__engine__<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/>__DBSession__<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/>__BASE__<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="109" refid="classdb__layer_1_1_database_1a232d5477efc9b4c8d8a36b7541c851e1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>session<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110" refid="classdb__layer_1_1_database_1a2e4b8be9ebcb91f37e9377164e060c2a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a2e4b8be9ebcb91f37e9377164e060c2a" kindref="member">__init__</ref>(self):</highlight></codeline>
<codeline lineno="111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>self.<ref refid="classdb__layer_1_1_database_1a0392fa6d4ee2ef8849aef0d7ea024cac" kindref="member">__initialized__</ref>:</highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(&quot;not<sp/>initialized&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#self.__initialized__<sp/>=<sp/>True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_database_1a7b83f2d4aec38f965eb1d3dbedc1cf1c" kindref="member">__engine__</ref><sp/>=<sp/>engine</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_database_1a6de72995e1ee6cc7fcd9f028fb8567f5" kindref="member">__metadata__</ref><sp/>=<sp/>MetaData()</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_database_1a49615f902bb09761e484e870ba15792f" kindref="member">__BASE__</ref>=Base</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.__BASE__.metadata.bind=self.<ref refid="classdb__layer_1_1_database_1a7b83f2d4aec38f965eb1d3dbedc1cf1c" kindref="member">__engine__</ref></highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.__BASE__.metadata.create_all(self.<ref refid="classdb__layer_1_1_database_1a7b83f2d4aec38f965eb1d3dbedc1cf1c" kindref="member">__engine__</ref>)</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#self.__DBSession__<sp/>=sessionmaker()</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref><sp/>=<sp/>scoped_session(sessionmaker(autoflush=</highlight><highlight class="keyword">True</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#scoped_session(sessionmaker())</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.__DBSession__.configure(bind=self.<ref refid="classdb__layer_1_1_database_1a7b83f2d4aec38f965eb1d3dbedc1cf1c" kindref="member">__engine__</ref>)</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_database_1a232d5477efc9b4c8d8a36b7541c851e1" kindref="member">session</ref><sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="124"><highlight class="normal"></highlight></codeline>
<codeline lineno="125" refid="classdb__layer_1_1_database_1aaa54107650dc6511c7afdaf98112d4c1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1aaa54107650dc6511c7afdaf98112d4c1" kindref="member">findUser</ref>(self,<sp/>str2find):</highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#self.session<sp/>=</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="129"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>users_found<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="130"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(User).\</highlight></codeline>
<codeline lineno="131"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(<sp/>\</highlight></codeline>
<codeline lineno="132"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>or_(<sp/>User.username==str2find,<sp/>User.description==str2find<sp/>)</highlight></codeline>
<codeline lineno="133"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>).\</highlight></codeline>
<codeline lineno="134"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>all()</highlight></codeline>
<codeline lineno="135"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#if<sp/>users_found<sp/>==<sp/>[]:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>users_found<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(User).\</highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(<sp/>\</highlight></codeline>
<codeline lineno="140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>or_(<sp/>User.username.ilike(</highlight><highlight class="stringliteral">&quot;%&quot;</highlight><highlight class="normal">+str2find+</highlight><highlight class="stringliteral">&quot;%&quot;</highlight><highlight class="normal">),<sp/>User.description.ilike(</highlight><highlight class="stringliteral">&quot;%&quot;</highlight><highlight class="normal">+str2find+</highlight><highlight class="stringliteral">&quot;%&quot;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>).\</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>all()</highlight></codeline>
<codeline lineno="143"><highlight class="normal"></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>users_found</highlight></codeline>
<codeline lineno="145"><highlight class="normal"></highlight></codeline>
<codeline lineno="146" refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(self,<sp/>username):</highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>users_found<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(User).\</highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(User.username==username).\</highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>first()</highlight></codeline>
<codeline lineno="153"><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>users_found</highlight></codeline>
<codeline lineno="155"><highlight class="normal"></highlight></codeline>
<codeline lineno="156" refid="classdb__layer_1_1_database_1a738e07ff3b7292931bb057d174866249" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a738e07ff3b7292931bb057d174866249" kindref="member">isUserAllowed</ref>(self,<sp/>username,<sp/>password):</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="158"><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theUser<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(username)</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>theUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>theUser.password<sp/>==<sp/>password:</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result</highlight></codeline>
<codeline lineno="165"><highlight class="normal"></highlight></codeline>
<codeline lineno="166" refid="classdb__layer_1_1_database_1a1f4a9b4e8dbd15d9f0ce74c1464ec3f9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a1f4a9b4e8dbd15d9f0ce74c1464ec3f9" kindref="member">isAdminAllowed</ref>(self,<sp/>username,<sp/>password):</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="168"><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theUser<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(username)</highlight></codeline>
<codeline lineno="171"><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>theUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>theUser.password<sp/>==<sp/>password<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>self.<ref refid="classdb__layer_1_1_database_1a9ddac6b8ec475ecd6e817329416e3d22" kindref="member">isUserAdmin</ref>(username):</highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>result</highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal"></highlight></codeline>
<codeline lineno="178" refid="classdb__layer_1_1_database_1aa97a7c93c41d97e60600dec9fb87270e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1aa97a7c93c41d97e60600dec9fb87270e" kindref="member">findUserByUID</ref>(self,<sp/>uid):</highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>users_found<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(User).\</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(User.uid==uid).\</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>first()</highlight></codeline>
<codeline lineno="185"><highlight class="normal"></highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>users_found</highlight></codeline>
<codeline lineno="187"><highlight class="normal"></highlight></codeline>
<codeline lineno="188" refid="classdb__layer_1_1_database_1aa56ec835e0baf06452952528e12062bc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1aa56ec835e0baf06452952528e12062bc" kindref="member">getAllUser</ref>(self):</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="190"><highlight class="normal"></highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>users_found<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(User).\</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>all()</highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>users_found</highlight></codeline>
<codeline lineno="195"><highlight class="normal"></highlight></codeline>
<codeline lineno="196" refid="classdb__layer_1_1_database_1a99ba044bb2e8692e27c34b74f6420ce8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a99ba044bb2e8692e27c34b74f6420ce8" kindref="member">getLowestUnusedUIDfromUser</ref>(self):</highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="198"><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theUID=</highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uids_found<sp/>=<sp/>[r<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(r,<sp/>)<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>session.query(User.uid).all()]</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>testUID<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(1,MAXUSERS+1):</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(theUID<sp/>==<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>(testUID<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>uids_found):</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theUID<sp/>=<sp/>testUID</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>theUID</highlight></codeline>
<codeline lineno="205"><highlight class="normal"></highlight></codeline>
<codeline lineno="206" refid="classdb__layer_1_1_database_1a607d0253401fe69017f3e2b397a66c65" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a607d0253401fe69017f3e2b397a66c65" kindref="member">addUser</ref>(self,newUser):</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theUID<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theGID<sp/>=<sp/>-1</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transaction_succesful=</highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"></highlight></codeline>
<codeline lineno="213"><highlight class="normal"></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Obtenemos<sp/>el<sp/>UID<sp/>libre<sp/>mas<sp/>bajo;<sp/>el<sp/>uid<sp/>no<sp/>supera<sp/>el<sp/>máximo<sp/>de<sp/>MAXUSERS<sp/>usrs</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theUID<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1a99ba044bb2e8692e27c34b74f6420ce8" kindref="member">getLowestUnusedUIDfromUser</ref>()</highlight></codeline>
<codeline lineno="216"><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Comprobamos<sp/>que<sp/>el<sp/>grupo<sp/>no<sp/>exista,<sp/>y<sp/>si<sp/>esta<sp/>libre,<sp/>creamos<sp/>el<sp/>UID<sp/>y<sp/>GID<sp/>con<sp/>el<sp/>mismo<sp/>valor:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Correspondencia<sp/>1:1<sp/>entre<sp/>usuario<sp/>y<sp/>grupo<sp/>cuando<sp/>el<sp/>UID&lt;MAXUSERS</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(theUID<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>(self.<ref refid="classdb__layer_1_1_database_1a16008b08c96fa493d7ee12b2a7a5b181" kindref="member">findGroupByGID</ref>(theUID)<sp/>==<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theGID<sp/>=<sp/>theUID</highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>testUSR<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(newUser.username)</highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>testGRP<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1a20c7dd43617755b5ebaf0e1d22a4a2f8" kindref="member">findGroupByGroupname</ref>(</highlight><highlight class="stringliteral">&apos;dfl_grp_&apos;</highlight><highlight class="normal">+newUser.username)</highlight></codeline>
<codeline lineno="224"><highlight class="normal"></highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Comprobamos<sp/>si<sp/>ya<sp/>existe<sp/>un<sp/>usuario<sp/>o<sp/>grupo<sp/>con<sp/>igual<sp/>clave<sp/>primaria</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(testUSR<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>(testGRP<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Existe:<sp/>forzamos<sp/>NO<sp/>ejecucion...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theGID<sp/>=<sp/>-1</highlight></codeline>
<codeline lineno="229"><highlight class="normal"></highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Si<sp/>hemos<sp/>encontrado<sp/>un<sp/>usuario<sp/>libre<sp/>y<sp/>el<sp/>grupo<sp/>libre...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>y<sp/>ademas<sp/>no<sp/>existen<sp/>las<sp/>claves<sp/>primarias<sp/>de<sp/>usuario.username<sp/>y<sp/>grupo.groupname...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/>=&gt;<sp/>(todo<sp/>OK<sp/>hasta<sp/>el<sp/>momento...)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>en<sp/>la<sp/>inicializacion<sp/>hemos<sp/>forzado<sp/>valores<sp/>diferentes<sp/>para<sp/>evitar<sp/>que<sp/>esta<sp/>comparacion<sp/>sea</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>cierta<sp/>por<sp/>defecto</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>theUID<sp/>==<sp/>theGID:</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Todos<sp/>los<sp/>valores<sp/>recibidos<sp/>en<sp/>newUser,<sp/>salvo<sp/>el<sp/>UID,<sp/>son<sp/>validos.<sp/>Ahora<sp/>alocamos<sp/>el<sp/>UID</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newUser.uid<sp/>=<sp/>theUID</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newGroup<sp/>=<sp/><ref refid="classdb__layer_1_1_group" kindref="compound">Group</ref>()</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newGroup.gid=theGID</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newGroup.description=</highlight><highlight class="stringliteral">&apos;Grupo<sp/>de<sp/>&apos;</highlight><highlight class="normal">+newUser.description</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newGroup.groupname=</highlight><highlight class="stringliteral">&apos;dfl_grp_&apos;</highlight><highlight class="normal">+newUser.username</highlight></codeline>
<codeline lineno="242"><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>relacionUsrGrp<sp/>=<sp/><ref refid="classdb__layer_1_1_groups" kindref="compound">Groups</ref>(newUser,<sp/>newGroup)</highlight></codeline>
<codeline lineno="244"><highlight class="normal"></highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Tenemos<sp/>todo<sp/>preparado...<sp/>intentamos<sp/>ejecutar<sp/>la<sp/>transaccion</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#session.begin_nested()</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.add(newUser)</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.add(newGroup)</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.add(relacionUsrGrp)</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.merge(newUser)</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.merge(newGroup)</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.merge(relacionUsrGrp)</highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.commit()</highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transaction_succesful=</highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal"><sp/>e:</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(e)</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.rollback()</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Si<sp/>todo<sp/>ha<sp/>ido<sp/>bien<sp/>(creacion<sp/>del<sp/>usuario,<sp/>creacion<sp/>del<sp/>grupo<sp/>y<sp/>creacion<sp/>de<sp/>acl),<sp/>devolvemos</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>un<sp/>registro<sp/>con<sp/>el<sp/>usuario<sp/>creado</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>si<sp/>ha<sp/>ido<sp/>mal,<sp/>devolvemos<sp/>None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>transaction_succesful:</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aa97a7c93c41d97e60600dec9fb87270e" kindref="member">findUserByUID</ref>(theUID)</highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="266"><highlight class="normal"></highlight></codeline>
<codeline lineno="267"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>storedUser</highlight></codeline>
<codeline lineno="268"><highlight class="normal"></highlight></codeline>
<codeline lineno="269" refid="classdb__layer_1_1_database_1a1d5f62d1f3ee91d692483abe8c774c89" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a1d5f62d1f3ee91d692483abe8c774c89" kindref="member">addRelation</ref>(self,<sp/>uid,<sp/>gid):</highlight></codeline>
<codeline lineno="270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="271"><highlight class="normal"></highlight></codeline>
<codeline lineno="272"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theUSR<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aa97a7c93c41d97e60600dec9fb87270e" kindref="member">findUserByUID</ref>(uid)</highlight></codeline>
<codeline lineno="273"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theGRP<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1a16008b08c96fa493d7ee12b2a7a5b181" kindref="member">findGroupByGID</ref>(gid)</highlight></codeline>
<codeline lineno="274"><highlight class="normal"></highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>relacionUsrGrp<sp/>=<sp/><ref refid="classdb__layer_1_1_groups" kindref="compound">Groups</ref>(theUSR,<sp/>theGRP)</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.add(relacionUsrGrp)</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.commit()</highlight></codeline>
<codeline lineno="278"><highlight class="normal"></highlight></codeline>
<codeline lineno="279" refid="classdb__layer_1_1_database_1aa682552b52caba32fde23ef44fb63ade" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1aa682552b52caba32fde23ef44fb63ade" kindref="member">wr_addRelation</ref>(self,<sp/>theDict):</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="281"><highlight class="normal"></highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uid<sp/>=<sp/>theDict.get(</highlight><highlight class="stringliteral">&apos;uid&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gid<sp/>=<sp/>theDict.get(</highlight><highlight class="stringliteral">&apos;gid&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(&quot;&gt;&gt;&gt;&gt;<sp/>db.wr_addRelation::<sp/>%r,<sp/>%r&quot;<sp/>%<sp/>(uid,<sp/>gid))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classdb__layer_1_1_database_1a1d5f62d1f3ee91d692483abe8c774c89" kindref="member">addRelation</ref>(uid,<sp/>gid)</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#return<sp/>None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="287"><highlight class="normal"></highlight></codeline>
<codeline lineno="288" refid="classdb__layer_1_1_database_1ab4e221a9ae93a5780c084d49d01029d8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1ab4e221a9ae93a5780c084d49d01029d8" kindref="member">delRelation</ref>(self,<sp/>uid,<sp/>gid):</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="290"><highlight class="normal"></highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theGroups<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(Groups).\</highlight></codeline>
<codeline lineno="293"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(Groups.uid==uid).\</highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(Groups.gid==gid).\</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delete()</highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.commit()</highlight></codeline>
<codeline lineno="297"><highlight class="normal"></highlight></codeline>
<codeline lineno="298"><highlight class="normal"></highlight></codeline>
<codeline lineno="299" refid="classdb__layer_1_1_database_1ab20da0ac6137c6a276f27f59a90d87e3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1ab20da0ac6137c6a276f27f59a90d87e3" kindref="member">wr_delRelation</ref>(self,<sp/>theDict):</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="301"><highlight class="normal"></highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uid<sp/>=<sp/>theDict.get(</highlight><highlight class="stringliteral">&apos;uid&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gid<sp/>=<sp/>theDict.get(</highlight><highlight class="stringliteral">&apos;gid&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(&quot;&gt;&gt;&gt;&gt;<sp/>db.wr_delRelation::<sp/>%r,<sp/>%r&quot;<sp/>%<sp/>(uid,<sp/>gid))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="305"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classdb__layer_1_1_database_1ab4e221a9ae93a5780c084d49d01029d8" kindref="member">delRelation</ref>(uid,<sp/>gid)</highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#return<sp/>None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="307"><highlight class="normal"></highlight></codeline>
<codeline lineno="308" refid="classdb__layer_1_1_database_1ad8447f580fdb6dc37c23fe4220ee62b9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1ad8447f580fdb6dc37c23fe4220ee62b9" kindref="member">delUser</ref>(self,usertoDelete):</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="310"><highlight class="normal"></highlight></codeline>
<codeline lineno="311"><highlight class="normal"></highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theGroups<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(Groups).\</highlight></codeline>
<codeline lineno="314"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(Groups.uid==usertoDelete.uid).\</highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delete()</highlight></codeline>
<codeline lineno="316"><highlight class="normal"></highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theGroup<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(Group).\</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(Group.gid==usertoDelete.uid).\</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delete()</highlight></codeline>
<codeline lineno="321"><highlight class="normal"></highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theUser<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(User).\</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(User.uid==usertoDelete.uid).\</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delete()</highlight></codeline>
<codeline lineno="326"><highlight class="normal"></highlight></codeline>
<codeline lineno="327"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.commit()</highlight></codeline>
<codeline lineno="328"><highlight class="normal"></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="330"><highlight class="normal"></highlight></codeline>
<codeline lineno="331"><highlight class="normal"></highlight></codeline>
<codeline lineno="332" refid="classdb__layer_1_1_database_1a03795c597d3a3ca0ef5d7c73299f8421" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a03795c597d3a3ca0ef5d7c73299f8421" kindref="member">setUserAdmin</ref>(self,requestedUser):</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="334"><highlight class="normal"></highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(requestedUser.__repr__())</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="336"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>requestedUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser=self.<ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(requestedUser.username)</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>storedUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theUser<sp/>=<sp/>session.query(User).\</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(User.uid==storedUser.uid).\</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>update({</highlight><highlight class="stringliteral">&apos;rol&apos;</highlight><highlight class="normal">:<sp/>RolType.get_adm_user_key()})</highlight></codeline>
<codeline lineno="342"><highlight class="normal"></highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.commit()</highlight></codeline>
<codeline lineno="344"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(requestedUser.username)</highlight></codeline>
<codeline lineno="345"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="346"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="347"><highlight class="normal"></highlight></codeline>
<codeline lineno="348" refid="classdb__layer_1_1_database_1a6b55a92453cf88fd95b0e6b565663bbc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a6b55a92453cf88fd95b0e6b565663bbc" kindref="member">changeUser</ref>(self,requestedUser):</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="350"><highlight class="normal"></highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(requestedUser.__repr__())</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="352"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>requestedUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="353"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser=self.<ref refid="classdb__layer_1_1_database_1aa97a7c93c41d97e60600dec9fb87270e" kindref="member">findUserByUID</ref>(requestedUser.uid)</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>storedUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="355"><highlight class="normal"></highlight></codeline>
<codeline lineno="356"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser.username<sp/>=<sp/>requestedUser.username</highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser.rol<sp/>=<sp/>requestedUser.rol</highlight></codeline>
<codeline lineno="358"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser.password<sp/>=<sp/>requestedUser.password</highlight></codeline>
<codeline lineno="359"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser.description<sp/>=<sp/>requestedUser.description</highlight></codeline>
<codeline lineno="360"><highlight class="normal"></highlight></codeline>
<codeline lineno="361"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser.L_AH<sp/>=<sp/>requestedUser.L_AH</highlight></codeline>
<codeline lineno="362"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser.M_AH<sp/>=<sp/>requestedUser.M_AH</highlight></codeline>
<codeline lineno="363"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser.X_AH<sp/>=<sp/>requestedUser.X_AH</highlight></codeline>
<codeline lineno="364"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser.J_AH<sp/>=<sp/>requestedUser.J_AH</highlight></codeline>
<codeline lineno="365"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser.V_AH<sp/>=<sp/>requestedUser.V_AH</highlight></codeline>
<codeline lineno="366"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser.S_AH<sp/>=<sp/>requestedUser.S_AH</highlight></codeline>
<codeline lineno="367"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser.D_AH<sp/>=<sp/>requestedUser.D_AH</highlight></codeline>
<codeline lineno="368"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.merge(storedUser)</highlight></codeline>
<codeline lineno="369"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.commit()</highlight></codeline>
<codeline lineno="370"><highlight class="normal"></highlight></codeline>
<codeline lineno="371"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(requestedUser.username)</highlight></codeline>
<codeline lineno="372"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="373"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"></highlight></codeline>
<codeline lineno="375" refid="classdb__layer_1_1_database_1a203864bb4a53dfb89f57c23392559b46" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a203864bb4a53dfb89f57c23392559b46" kindref="member">setUserAdvanced</ref>(self,requestedUser):</highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="377"><highlight class="normal"></highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(requestedUser.__repr__())</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>requestedUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser=self.<ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(requestedUser.username)</highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>storedUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theUser<sp/>=<sp/>session.query(User).\</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(User.uid==storedUser.uid).\</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>update({</highlight><highlight class="stringliteral">&apos;rol&apos;</highlight><highlight class="normal">:<sp/>RolType.get_adv_user_key()})</highlight></codeline>
<codeline lineno="385"><highlight class="normal"></highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.commit()</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(requestedUser.username)</highlight></codeline>
<codeline lineno="388"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="390"><highlight class="normal"></highlight></codeline>
<codeline lineno="391" refid="classdb__layer_1_1_database_1a03a583931163ed9bac45c5b05e4bf69f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a03a583931163ed9bac45c5b05e4bf69f" kindref="member">setUserKid</ref>(self,requestedUser):</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="393"><highlight class="normal"></highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(requestedUser.__repr__())</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>requestedUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser=self.<ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(requestedUser.username)</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>storedUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theUser<sp/>=<sp/>session.query(User).\</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(User.uid==storedUser.uid).\</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>update({</highlight><highlight class="stringliteral">&apos;rol&apos;</highlight><highlight class="normal">:<sp/>RolType.get_kid_user_key()})</highlight></codeline>
<codeline lineno="401"><highlight class="normal"></highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.commit()</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(requestedUser.username)</highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="406"><highlight class="normal"></highlight></codeline>
<codeline lineno="407" refid="classdb__layer_1_1_database_1ab86b18a8ab851b48703101ab53af6f8b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1ab86b18a8ab851b48703101ab53af6f8b" kindref="member">setUserGuest</ref>(self,requestedUser):</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(requestedUser.__repr__())</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="410"><highlight class="normal"></highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>requestedUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser=self.<ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(requestedUser.username)</highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>storedUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theUser<sp/>=<sp/>session.query(User).\</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(User.uid==storedUser.uid).\</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>update({</highlight><highlight class="stringliteral">&apos;rol&apos;</highlight><highlight class="normal">:<sp/>RolType.get_guest_user_key()})</highlight></codeline>
<codeline lineno="417"><highlight class="normal"></highlight></codeline>
<codeline lineno="418"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.commit()</highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(requestedUser.username)</highlight></codeline>
<codeline lineno="420"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="422"><highlight class="normal"></highlight></codeline>
<codeline lineno="423" refid="classdb__layer_1_1_database_1a2faddc3de17c5f91a96d835339e5b187" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a2faddc3de17c5f91a96d835339e5b187" kindref="member">changeUserPassword</ref>(self,requestedUser):</highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="425"><highlight class="normal"></highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>requestedUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser=self.<ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(requestedUser.username)</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>storedUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theUser<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(User).\</highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(User.uid==storedUser.uid).\</highlight></codeline>
<codeline lineno="432"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>update({</highlight><highlight class="stringliteral">&apos;password&apos;</highlight><highlight class="normal">:<sp/>requestedUser.password})</highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.commit()</highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(requestedUser.username)</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="437"><highlight class="normal"></highlight></codeline>
<codeline lineno="438" refid="classdb__layer_1_1_database_1ad49eca83ffa1263e355f5757e9b4d814" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1ad49eca83ffa1263e355f5757e9b4d814" kindref="member">changeUserDescription</ref>(self,requestedUser):</highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="440"><highlight class="normal"></highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>requestedUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="442"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser=self.<ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(requestedUser.username)</highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>storedUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="444"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theUser<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(User).\</highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(User.uid==storedUser.uid).\</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>update({</highlight><highlight class="stringliteral">&apos;description&apos;</highlight><highlight class="normal">:<sp/>requestedUser.description})</highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.commit()</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(requestedUser.username)</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="452"><highlight class="normal"></highlight></codeline>
<codeline lineno="453" refid="classdb__layer_1_1_database_1a3cdf214f598de4b4c5d08e5a1f7c218b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a3cdf214f598de4b4c5d08e5a1f7c218b" kindref="member">commitDBChanges</ref>(self):</highlight></codeline>
<codeline lineno="454"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="455"><highlight class="normal"></highlight></codeline>
<codeline lineno="456"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(&apos;commit<sp/>DB<sp/>changes&apos;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>session.dirty<sp/></highlight><highlight class="keywordflow">or</highlight><highlight class="normal"><sp/>session.deleted:</highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(&quot;pending<sp/>changes<sp/>saving&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.commit()</highlight></codeline>
<codeline lineno="460"><highlight class="normal"></highlight></codeline>
<codeline lineno="461"><highlight class="normal"></highlight></codeline>
<codeline lineno="462" refid="classdb__layer_1_1_database_1a39d62bdcc06c57e3a02aa86c31a45f8d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a39d62bdcc06c57e3a02aa86c31a45f8d" kindref="member">findGroup</ref>(self,<sp/>str2find):</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="464"><highlight class="normal"></highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>groups_found<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(Group).\</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(<sp/>\</highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>or_(<sp/>Group.groupname==str2find,<sp/>Group.description==str2find<sp/>)</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>).\</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>all()</highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>groups_found<sp/>==<sp/>[]:</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>groups_found<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(Group).\</highlight></codeline>
<codeline lineno="474"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(</highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>or_(<sp/>Group.groupname.ilike(</highlight><highlight class="stringliteral">&quot;%&quot;</highlight><highlight class="normal">+str2find+</highlight><highlight class="stringliteral">&quot;%&quot;</highlight><highlight class="normal">),</highlight></codeline>
<codeline lineno="476"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Group.description.ilike(</highlight><highlight class="stringliteral">&quot;%&quot;</highlight><highlight class="normal">+str2find+</highlight><highlight class="stringliteral">&quot;%&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>)</highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>).\</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>all()</highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>groups_found</highlight></codeline>
<codeline lineno="481"><highlight class="normal"></highlight></codeline>
<codeline lineno="482" refid="classdb__layer_1_1_database_1a20c7dd43617755b5ebaf0e1d22a4a2f8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a20c7dd43617755b5ebaf0e1d22a4a2f8" kindref="member">findGroupByGroupname</ref>(self,<sp/>groupname):</highlight></codeline>
<codeline lineno="483"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="484"><highlight class="normal"></highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>groups_found<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(Group).\</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(Group.groupname==groupname).\</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>first()</highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>groups_found</highlight></codeline>
<codeline lineno="490"><highlight class="normal"></highlight></codeline>
<codeline lineno="491" refid="classdb__layer_1_1_database_1a16008b08c96fa493d7ee12b2a7a5b181" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a16008b08c96fa493d7ee12b2a7a5b181" kindref="member">findGroupByGID</ref>(self,<sp/>gid):</highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="493"><highlight class="normal"></highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>groups_found<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(Group).\</highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(Group.gid==gid).\</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>first()</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>groups_found</highlight></codeline>
<codeline lineno="499"><highlight class="normal"></highlight></codeline>
<codeline lineno="500" refid="classdb__layer_1_1_database_1a8470bd9042a562ac6205dc6edcb374ea" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a8470bd9042a562ac6205dc6edcb374ea" kindref="member">delGroup</ref>(self,grouptoDelete):</highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="502"><highlight class="normal"></highlight></codeline>
<codeline lineno="503"><highlight class="normal"></highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theGroups<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="505"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(Groups).\</highlight></codeline>
<codeline lineno="506"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(Groups.gid==grouptoDelete.gid).\</highlight></codeline>
<codeline lineno="507"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delete();</highlight></codeline>
<codeline lineno="508"><highlight class="normal"></highlight></codeline>
<codeline lineno="509"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theGroup<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="510"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(Group).\</highlight></codeline>
<codeline lineno="511"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(Group.gid==grouptoDelete.gid).\</highlight></codeline>
<codeline lineno="512"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delete()</highlight></codeline>
<codeline lineno="513"><highlight class="normal"></highlight></codeline>
<codeline lineno="514"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.commit()</highlight></codeline>
<codeline lineno="515"><highlight class="normal"></highlight></codeline>
<codeline lineno="516"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="517"><highlight class="normal"></highlight></codeline>
<codeline lineno="518"><highlight class="normal"></highlight></codeline>
<codeline lineno="519" refid="classdb__layer_1_1_database_1a36251bcd67a2b86157830f7c4df7c35d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a36251bcd67a2b86157830f7c4df7c35d" kindref="member">changeGroup</ref>(self,requestedGroup):</highlight></codeline>
<codeline lineno="520"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="521"><highlight class="normal"></highlight></codeline>
<codeline lineno="522"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(requestedGroup.__repr__())</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="523"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>requestedGroup<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="524"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedGroup=self.<ref refid="classdb__layer_1_1_database_1a16008b08c96fa493d7ee12b2a7a5b181" kindref="member">findGroupByGID</ref>(requestedGroup.gid)</highlight></codeline>
<codeline lineno="525"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>storedGroup<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="526"><highlight class="normal"></highlight></codeline>
<codeline lineno="527"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedGroup.groupname<sp/>=<sp/>requestedGroup.groupname</highlight></codeline>
<codeline lineno="528"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedGroup.description<sp/>=<sp/>requestedGroup.description</highlight></codeline>
<codeline lineno="529"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.commit()</highlight></codeline>
<codeline lineno="530"><highlight class="normal"></highlight></codeline>
<codeline lineno="531"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classdb__layer_1_1_database_1a20c7dd43617755b5ebaf0e1d22a4a2f8" kindref="member">findGroupByGroupname</ref>(requestedGroup.groupname)</highlight></codeline>
<codeline lineno="532"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="533"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="534"><highlight class="normal"></highlight></codeline>
<codeline lineno="535" refid="classdb__layer_1_1_database_1aec26922467f83a27ddc41b583f0f1cb0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1aec26922467f83a27ddc41b583f0f1cb0" kindref="member">getAllGroups</ref>(self):</highlight></codeline>
<codeline lineno="536"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="537"><highlight class="normal"></highlight></codeline>
<codeline lineno="538"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>groups_found<sp/>=<sp/>session.query(Group).all()</highlight></codeline>
<codeline lineno="539"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>groups_found</highlight></codeline>
<codeline lineno="540"><highlight class="normal"></highlight></codeline>
<codeline lineno="541" refid="classdb__layer_1_1_database_1a22ed5c7f36dbb61e6f60c4040987bf55" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a22ed5c7f36dbb61e6f60c4040987bf55" kindref="member">getAllCustomGroups</ref>(self):</highlight></codeline>
<codeline lineno="542"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="543"><highlight class="normal"></highlight></codeline>
<codeline lineno="544"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>groups_found<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="545"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(Group).\</highlight></codeline>
<codeline lineno="546"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(Group.gid&gt;MAXUSERS).\</highlight></codeline>
<codeline lineno="547"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>all()</highlight></codeline>
<codeline lineno="548"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>groups_found</highlight></codeline>
<codeline lineno="549"><highlight class="normal"></highlight></codeline>
<codeline lineno="550" refid="classdb__layer_1_1_database_1a98fa2d3a8377bca1fe5f2d2946ef2929" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a98fa2d3a8377bca1fe5f2d2946ef2929" kindref="member">getLowestUnusedGIDfromGroup</ref>(self):</highlight></codeline>
<codeline lineno="551"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="552"><highlight class="normal"></highlight></codeline>
<codeline lineno="553"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theGID=</highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="554"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gids_found<sp/>=<sp/>[r<sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>(r,<sp/>)<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>session.query(Group.gid).all()]</highlight></codeline>
<codeline lineno="555"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>testGID<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>range(MAXUSERS+1,MAXGROUPS+1):</highlight></codeline>
<codeline lineno="556"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(theGID<sp/>==<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">)<sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">not</highlight><highlight class="normal"><sp/>(testGID<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>gids_found):</highlight></codeline>
<codeline lineno="557"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theGID<sp/>=<sp/>testGID</highlight></codeline>
<codeline lineno="558"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>theGID</highlight></codeline>
<codeline lineno="559"><highlight class="normal"></highlight></codeline>
<codeline lineno="560" refid="classdb__layer_1_1_database_1a472b95b106b4fe0185582d99f36edb85" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a472b95b106b4fe0185582d99f36edb85" kindref="member">addGroup</ref>(self,newGroup):</highlight></codeline>
<codeline lineno="561"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="562"><highlight class="normal"></highlight></codeline>
<codeline lineno="563"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theGID<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="564"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transaction_succesful=</highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="565"><highlight class="normal"></highlight></codeline>
<codeline lineno="566"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Obtenemos<sp/>el<sp/>GID<sp/>libre<sp/>mas<sp/>bajo...</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="567"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theGID<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1a98fa2d3a8377bca1fe5f2d2946ef2929" kindref="member">getLowestUnusedGIDfromGroup</ref>()</highlight></codeline>
<codeline lineno="568"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>e<sp/>intentamos<sp/>localizar<sp/>un<sp/>grupo<sp/>con<sp/>el<sp/>mismo<sp/>nombre</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="569"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>testGRP<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1a20c7dd43617755b5ebaf0e1d22a4a2f8" kindref="member">findGroupByGroupname</ref>(newGroup.groupname)</highlight></codeline>
<codeline lineno="570"><highlight class="normal"></highlight></codeline>
<codeline lineno="571"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>si<sp/>el<sp/>GID<sp/>esta<sp/>libre<sp/>y<sp/>no<sp/>hemos<sp/>encontrado<sp/>un<sp/>grupo<sp/>con<sp/>la<sp/>misma<sp/>clave<sp/>primaria..</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="572"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>theGID<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">and</highlight><highlight class="normal"><sp/>testGRP<sp/>==<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="573"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Todos<sp/>los<sp/>valores<sp/>recibidos<sp/>en<sp/>newUser,<sp/>salvo<sp/>el<sp/>UID,<sp/>son<sp/>validos.<sp/>Ahora<sp/>alocamos<sp/>el<sp/>UID</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="574"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newGroup.gid<sp/>=<sp/>theGID</highlight></codeline>
<codeline lineno="575"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">try</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="576"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.add(newGroup)</highlight></codeline>
<codeline lineno="577"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.commit()</highlight></codeline>
<codeline lineno="578"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>transaction_succesful=</highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="579"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">except</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="580"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.rollback()</highlight></codeline>
<codeline lineno="581"><highlight class="normal"></highlight></codeline>
<codeline lineno="582"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Si<sp/>todo<sp/>ha<sp/>ido<sp/>bien<sp/>(creacion<sp/>del<sp/>grupo),<sp/>devolvemos</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="583"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>un<sp/>registro<sp/>con<sp/>el<sp/>grupo<sp/>creado,<sp/>M,<sp/>X,<sp/>J,<sp/>V,<sp/>S,<sp/>D</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="584"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>si<sp/>ha<sp/>ido<sp/>mal,<sp/>devolvemos<sp/>None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="585"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>transaction_succesful:</highlight></codeline>
<codeline lineno="586"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedGroup<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1a16008b08c96fa493d7ee12b2a7a5b181" kindref="member">findGroupByGID</ref>(theGID)</highlight></codeline>
<codeline lineno="587"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="588"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedGroup<sp/>=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="589"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>storedGroup</highlight></codeline>
<codeline lineno="590"><highlight class="normal"></highlight></codeline>
<codeline lineno="591" refid="classdb__layer_1_1_database_1ab3e162f3cda68dacdfaa3de68e300567" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1ab3e162f3cda68dacdfaa3de68e300567" kindref="member">changeGroupDescription</ref>(self,requestedGroup):</highlight></codeline>
<codeline lineno="592"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="593"><highlight class="normal"></highlight></codeline>
<codeline lineno="594"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>requestedGroup<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="595"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedGroup=self.<ref refid="classdb__layer_1_1_database_1a20c7dd43617755b5ebaf0e1d22a4a2f8" kindref="member">findGroupByGroupname</ref>(requestedGroup.groupname)</highlight></codeline>
<codeline lineno="596"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>storedGroup<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="597"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theGroup<sp/>=<sp/>session.query(Group).filter(</highlight></codeline>
<codeline lineno="598"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Group.gid==storedGroup.gid</highlight></codeline>
<codeline lineno="599"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>).update({</highlight><highlight class="stringliteral">&apos;description&apos;</highlight><highlight class="normal">:<sp/>requestedGroup.description})</highlight></codeline>
<codeline lineno="600"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.commit()</highlight></codeline>
<codeline lineno="601"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classdb__layer_1_1_database_1a20c7dd43617755b5ebaf0e1d22a4a2f8" kindref="member">findGroupByGroupname</ref>(requestedGroup.groupname)</highlight></codeline>
<codeline lineno="602"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="603"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="604"><highlight class="normal"></highlight></codeline>
<codeline lineno="605" refid="classdb__layer_1_1_database_1af6ba4fcf6bcd589b0c85b05f49f46ef5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1af6ba4fcf6bcd589b0c85b05f49f46ef5" kindref="member">isUserAllowedNow</ref>(self,<sp/>username):</highlight></codeline>
<codeline lineno="606"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="607"><highlight class="normal"></highlight></codeline>
<codeline lineno="608"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is_authorized=</highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="609"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser=self.<ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(username)</highlight></codeline>
<codeline lineno="610"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>storedUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="611"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>now=datetime.datetime.now()</highlight></codeline>
<codeline lineno="612"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>h=now.time().hour</highlight></codeline>
<codeline lineno="613"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dow=now.weekday()</highlight></codeline>
<codeline lineno="614"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>calculamos<sp/>la<sp/>mascara<sp/>de<sp/>hora<sp/>haciendo<sp/>shift<sp/>a<sp/>la<sp/>izquierda<sp/>de<sp/>h<sp/>bits<sp/>basado<sp/>en<sp/>0b000000000000000000000001</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="615"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>ej:</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="616"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>2<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>1<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>0</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="617"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>321098765432109876543210</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="618"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/>00h<sp/>=&gt;<sp/><sp/>0b000000000000000000000001<sp/>&lt;<sp/><sp/>0<sp/>=<sp/>0b000000000000000000000001</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="619"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/><sp/><sp/><sp/>22h<sp/>=&gt;<sp/><sp/>0b000000000000000000000001<sp/>&lt;<sp/>22<sp/>=<sp/>0b010000000000000000000000</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="620"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hour_mask<sp/>=<sp/>HOURS_MASK[</highlight><highlight class="stringliteral">&apos;H00_M&apos;</highlight><highlight class="normal">]&lt;&lt;<sp/>h</highlight></codeline>
<codeline lineno="621"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##<sp/>print(&apos;hour_mask:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{0:24b}&apos;.format(hour_mask))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="622"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>dow<sp/>==<sp/>0:<sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Lunes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="623"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##print(&quot;L<sp/>%rh&quot;<sp/>%<sp/>h<sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="624"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hours_bit_mask<sp/>=<sp/><sp/>storedUser.L_AH</highlight></codeline>
<codeline lineno="625"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>dow<sp/>==<sp/>1:<sp/><sp/></highlight><highlight class="comment">#<sp/>Martes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="626"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##print(&quot;M<sp/>%rh&quot;<sp/>%<sp/>h<sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="627"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hours_bit_mask<sp/>=<sp/><sp/>storedUser.M_AH</highlight></codeline>
<codeline lineno="628"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>dow<sp/>==<sp/>2:<sp/><sp/></highlight><highlight class="comment">#<sp/>Miercoles</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="629"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##print(&quot;X<sp/>%rh&quot;<sp/>%<sp/>h<sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="630"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hours_bit_mask<sp/>=<sp/><sp/>storedUser.X_AH</highlight></codeline>
<codeline lineno="631"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>dow<sp/>==<sp/>3:<sp/><sp/></highlight><highlight class="comment">#<sp/>Jueves</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="632"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##print(&quot;J<sp/>%rh&quot;<sp/>%<sp/>h<sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="633"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hours_bit_mask<sp/>=<sp/><sp/>storedUser.J_AH</highlight></codeline>
<codeline lineno="634"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>dow<sp/>==<sp/>4:<sp/><sp/></highlight><highlight class="comment">#<sp/>Viernes</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="635"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##print(&quot;V<sp/>%rh&quot;<sp/>%<sp/>h<sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="636"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hours_bit_mask<sp/>=<sp/><sp/>storedUser.V_AH</highlight></codeline>
<codeline lineno="637"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>dow<sp/>==<sp/>5:<sp/><sp/></highlight><highlight class="comment">#<sp/>Sabado</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="638"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##print(&quot;S<sp/>%rh&quot;<sp/>%<sp/>h<sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="639"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hours_bit_mask<sp/>=<sp/><sp/>storedUser.S_AH</highlight></codeline>
<codeline lineno="640"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>dow<sp/>==<sp/>6:<sp/><sp/></highlight><highlight class="comment">#<sp/>Domingo</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="641"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##print(&quot;D<sp/>%rh&quot;<sp/>%<sp/>h<sp/>)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="642"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hours_bit_mask<sp/>=<sp/><sp/>storedUser.D_AH</highlight></codeline>
<codeline lineno="643"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:<sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Si<sp/>llegamos<sp/>aqui,<sp/>tenemos<sp/>un<sp/>problema</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="644"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##print(&quot;Unknownday&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="645"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hours_bit_mask<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="646"><highlight class="normal"></highlight></codeline>
<codeline lineno="647"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##print(&apos;hours_bit_mask:<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{0:24b}&apos;.format(hours_bit_mask))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="648"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#<sp/>Una<sp/>vez<sp/>obtenido<sp/>el<sp/>registro<sp/>del<sp/>dia,<sp/>enmascaramos<sp/>con<sp/>la<sp/>hora<sp/>activa</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="649"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>resulting_hours_bit_mask<sp/>=<sp/>hours_bit_mask<sp/>&amp;<sp/>hour_mask</highlight></codeline>
<codeline lineno="650"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">##print(&apos;resulting_hours_bit_mask:<sp/><sp/>{0:24b}&apos;.format(resulting_hours_bit_mask))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="651"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>resulting_hours_bit_mask<sp/>!=<sp/>0:</highlight></codeline>
<codeline lineno="652"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is_authorized<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="653"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>is_authorized</highlight></codeline>
<codeline lineno="654"><highlight class="normal"></highlight></codeline>
<codeline lineno="655" refid="classdb__layer_1_1_database_1a9ddac6b8ec475ecd6e817329416e3d22" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a9ddac6b8ec475ecd6e817329416e3d22" kindref="member">isUserAdmin</ref>(self,<sp/>username):</highlight></codeline>
<codeline lineno="656"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="657"><highlight class="normal"></highlight></codeline>
<codeline lineno="658"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is_admin=</highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="659"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser=<sp/>self.<ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(username)</highlight></codeline>
<codeline lineno="660"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>storedUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="661"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(storedUser.rol)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="662"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(RolType.get_adm_user_key())</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="663"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>storedUser.rol<sp/>==<sp/>RolType.get_adm_user_key():</highlight></codeline>
<codeline lineno="664"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is_admin<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="665"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>is_admin</highlight></codeline>
<codeline lineno="666"><highlight class="normal"></highlight></codeline>
<codeline lineno="667" refid="classdb__layer_1_1_database_1abbe6297269170e88f0ebe7da784fb62b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1abbe6297269170e88f0ebe7da784fb62b" kindref="member">isUserAdvanced</ref>(self,<sp/>username):</highlight></codeline>
<codeline lineno="668"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="669"><highlight class="normal"></highlight></codeline>
<codeline lineno="670"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is_advanced=</highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="671"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser=self.<ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(username)</highlight></codeline>
<codeline lineno="672"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>storedUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="673"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(storedUser.rol)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="674"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(RolType.get_adv_user_key())</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="675"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>storedUser.rol<sp/>==<sp/>RolType.get_adv_user_key():</highlight></codeline>
<codeline lineno="676"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is_advanced<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="677"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>is_advanced</highlight></codeline>
<codeline lineno="678"><highlight class="normal"></highlight></codeline>
<codeline lineno="679" refid="classdb__layer_1_1_database_1a3aaf3d095b7c6d005ec9061f83ccdc66" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a3aaf3d095b7c6d005ec9061f83ccdc66" kindref="member">isUserKid</ref>(self,<sp/>username):</highlight></codeline>
<codeline lineno="680"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="681"><highlight class="normal"></highlight></codeline>
<codeline lineno="682"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is_kid=</highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="683"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser=self.<ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(username)</highlight></codeline>
<codeline lineno="684"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>storedUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="685"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(storedUser.rol)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="686"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(RolType.get_kid_user_key())</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="687"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>storedUser.rol<sp/>==<sp/>RolType.get_kid_user_key():</highlight></codeline>
<codeline lineno="688"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is_kid<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="689"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>is_kid</highlight></codeline>
<codeline lineno="690"><highlight class="normal"></highlight></codeline>
<codeline lineno="691" refid="classdb__layer_1_1_database_1a9ff75e8e93503e1e6b5ceb083910864a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a9ff75e8e93503e1e6b5ceb083910864a" kindref="member">isUserGuest</ref>(self,<sp/>username):</highlight></codeline>
<codeline lineno="692"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="693"><highlight class="normal"></highlight></codeline>
<codeline lineno="694"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is_guest=</highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="695"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser=<sp/>self.<ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(username)</highlight></codeline>
<codeline lineno="696"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>storedUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="697"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(storedUser.rol)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="698"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(RolType.get_guest_user_key())</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="699"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>storedUser.rol<sp/>==<sp/>RolType.get_guest_user_key():</highlight></codeline>
<codeline lineno="700"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>is_guest<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="701"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>is_guest</highlight></codeline>
<codeline lineno="702"><highlight class="normal"></highlight></codeline>
<codeline lineno="703" refid="classdb__layer_1_1_database_1acf2271857a561c1e17069068f5c7e317" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1acf2271857a561c1e17069068f5c7e317" kindref="member">findGroupsByUser</ref>(self,<sp/>username):</highlight></codeline>
<codeline lineno="704"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="705"><highlight class="normal"></highlight></codeline>
<codeline lineno="706"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(&quot;....%r&quot;<sp/>%<sp/>username)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="707"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>membership<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="708"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>username<sp/>!=<sp/></highlight><highlight class="stringliteral">&apos;%&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="709"><highlight class="normal"></highlight></codeline>
<codeline lineno="710"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theUser<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(username)</highlight></codeline>
<codeline lineno="711"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(theUser)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="712"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>theUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="713"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>membergroups<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="714"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(Groups).\</highlight></codeline>
<codeline lineno="715"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>join(User).\</highlight></codeline>
<codeline lineno="716"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>join(Group).\</highlight></codeline>
<codeline lineno="717"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(Groups.gid&gt;MAXUSERS).\</highlight></codeline>
<codeline lineno="718"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(Groups.uid==User.uid).\</highlight></codeline>
<codeline lineno="719"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(Groups.gid==Group.gid).\</highlight></codeline>
<codeline lineno="720"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(User.uid==theUser.uid).\</highlight></codeline>
<codeline lineno="721"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>all()</highlight></codeline>
<codeline lineno="722"><highlight class="normal"></highlight></codeline>
<codeline lineno="723"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>member<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>membergroups:</highlight></codeline>
<codeline lineno="724"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theGroup<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1a16008b08c96fa493d7ee12b2a7a5b181" kindref="member">findGroupByGID</ref>(member.gid)</highlight></codeline>
<codeline lineno="725"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>membership.append(theGroup)</highlight></codeline>
<codeline lineno="726"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#membergroups.append(theGroup)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="727"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>membership</highlight></codeline>
<codeline lineno="728"><highlight class="normal"></highlight></codeline>
<codeline lineno="729" refid="classdb__layer_1_1_database_1a782bfdf0a4415ef9f520722125851924" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a782bfdf0a4415ef9f520722125851924" kindref="member">findNotGroupsByUser</ref>(self,<sp/>username):</highlight></codeline>
<codeline lineno="730"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="731"><highlight class="normal"></highlight></codeline>
<codeline lineno="732"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(&quot;....%r&quot;<sp/>%<sp/>username)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="733"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>notMembership<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="734"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>membership<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="735"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>all_groups<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="736"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>username<sp/>!=<sp/></highlight><highlight class="stringliteral">&apos;%&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="737"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theUser<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1a321ec63103a76c21fb556f82bc03e08f" kindref="member">findUserByUsername</ref>(username)</highlight></codeline>
<codeline lineno="738"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>theUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="739"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>all_groups<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1a22ed5c7f36dbb61e6f60c4040987bf55" kindref="member">getAllCustomGroups</ref>()</highlight></codeline>
<codeline lineno="740"><highlight class="normal"></highlight></codeline>
<codeline lineno="741"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>theUser<sp/>!=<sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="742"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>membership<sp/>=<sp/><sp/>self.<ref refid="classdb__layer_1_1_database_1acf2271857a561c1e17069068f5c7e317" kindref="member">findGroupsByUser</ref>(theUser.username)</highlight></codeline>
<codeline lineno="743"><highlight class="normal"></highlight></codeline>
<codeline lineno="744"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>member<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>membership:</highlight></codeline>
<codeline lineno="745"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>the_member_group<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1a16008b08c96fa493d7ee12b2a7a5b181" kindref="member">findGroupByGID</ref>(member.gid)</highlight></codeline>
<codeline lineno="746"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>all_groups.remove(the_member_group)</highlight></codeline>
<codeline lineno="747"><highlight class="normal"></highlight></codeline>
<codeline lineno="748"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>all_groups</highlight></codeline>
<codeline lineno="749"><highlight class="normal"></highlight></codeline>
<codeline lineno="750" refid="classdb__layer_1_1_database_1abe7e2fc7937e3fd641a8ec5275b4db60" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1abe7e2fc7937e3fd641a8ec5275b4db60" kindref="member">findURISbyGID</ref>(self,<sp/>gid):</highlight></codeline>
<codeline lineno="751"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="752"><highlight class="normal"></highlight></codeline>
<codeline lineno="753"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theUris<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="754"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(URIS).\</highlight></codeline>
<codeline lineno="755"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(URIS.gid==gid).\</highlight></codeline>
<codeline lineno="756"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>all()</highlight></codeline>
<codeline lineno="757"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>theUris</highlight></codeline>
<codeline lineno="758"><highlight class="normal"></highlight></codeline>
<codeline lineno="759" refid="classdb__layer_1_1_database_1a9182f4e89992da5de14ae67f466514df" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a9182f4e89992da5de14ae67f466514df" kindref="member">deleteURISbyGID</ref>(self,<sp/>gid):</highlight></codeline>
<codeline lineno="760"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="761"><highlight class="normal"></highlight></codeline>
<codeline lineno="762"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print<sp/>(&apos;------------&apos;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="763"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theUris<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="764"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(URIS).\</highlight></codeline>
<codeline lineno="765"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(URIS.gid==gid).\</highlight></codeline>
<codeline lineno="766"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delete()</highlight></codeline>
<codeline lineno="767"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.commit()</highlight></codeline>
<codeline lineno="768"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print<sp/>(&apos;------------&apos;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="769"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="770"><highlight class="normal"></highlight></codeline>
<codeline lineno="771" refid="classdb__layer_1_1_database_1aebc7fd132c862539ede9959fa4257d2a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1aebc7fd132c862539ede9959fa4257d2a" kindref="member">insertURISbyGID</ref>(self,<sp/>gid,<sp/>data):</highlight></codeline>
<codeline lineno="772"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="773"><highlight class="normal"></highlight></codeline>
<codeline lineno="774"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>numLine<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="775"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_database_1a9182f4e89992da5de14ae67f466514df" kindref="member">deleteURISbyGID</ref>(gid)</highlight></codeline>
<codeline lineno="776"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>line<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>data.split(</highlight><highlight class="stringliteral">&apos;\n&apos;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="777"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>line<sp/>!=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="778"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>numLine<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="779"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newUri<sp/>=<sp/><ref refid="classdb__layer_1_1_u_r_i_s" kindref="compound">URIS</ref>()</highlight></codeline>
<codeline lineno="780"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newUri.uriid<sp/>=<sp/>numLine</highlight></codeline>
<codeline lineno="781"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newUri.gid<sp/>=<sp/>gid</highlight></codeline>
<codeline lineno="782"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newUri.uri<sp/>=<sp/>line</highlight></codeline>
<codeline lineno="783"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(&apos;uri:<sp/>%r&apos;<sp/>%<sp/>newUri)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="784"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.add(newUri)</highlight></codeline>
<codeline lineno="785"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.merge(newUri)</highlight></codeline>
<codeline lineno="786"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.commit()</highlight></codeline>
<codeline lineno="787"><highlight class="normal"></highlight></codeline>
<codeline lineno="788"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classdb__layer_1_1_database_1abe7e2fc7937e3fd641a8ec5275b4db60" kindref="member">findURISbyGID</ref>(gid)</highlight></codeline>
<codeline lineno="789"><highlight class="normal"></highlight></codeline>
<codeline lineno="790" refid="classdb__layer_1_1_database_1a3ede692ddfa18fd73ce142341f21e6a0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a3ede692ddfa18fd73ce142341f21e6a0" kindref="member">wr_insertURISbyGID</ref>(self,<sp/>theDict):</highlight></codeline>
<codeline lineno="791"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="792"><highlight class="normal"></highlight></codeline>
<codeline lineno="793"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gid<sp/>=<sp/>theDict.get(</highlight><highlight class="stringliteral">&apos;gid&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="794"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data<sp/>=<sp/>theDict.get(</highlight><highlight class="stringliteral">&apos;data&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="795"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(&quot;&gt;&gt;&gt;&gt;<sp/>db.wr_insertURISbyGID::<sp/>%r,<sp/>%r&quot;<sp/>%<sp/>(gid,<sp/>data))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="796"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classdb__layer_1_1_database_1aebc7fd132c862539ede9959fa4257d2a" kindref="member">insertURISbyGID</ref>(gid,<sp/>data)</highlight></codeline>
<codeline lineno="797"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#return<sp/>None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="798"><highlight class="normal"></highlight></codeline>
<codeline lineno="799"><highlight class="normal"></highlight></codeline>
<codeline lineno="800" refid="classdb__layer_1_1_database_1a7f168024109c6490cca9f764cd0bbeac" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a7f168024109c6490cca9f764cd0bbeac" kindref="member">findWORDSbyGID</ref>(self,<sp/>gid):</highlight></codeline>
<codeline lineno="801"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="802"><highlight class="normal"></highlight></codeline>
<codeline lineno="803"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theWords<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="804"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(WORDS).\</highlight></codeline>
<codeline lineno="805"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(WORDS.gid==gid).\</highlight></codeline>
<codeline lineno="806"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>all()</highlight></codeline>
<codeline lineno="807"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>theWords</highlight></codeline>
<codeline lineno="808"><highlight class="normal"></highlight></codeline>
<codeline lineno="809" refid="classdb__layer_1_1_database_1af7c91fdd73898b9e2aa1d1e04ebcb8a6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1af7c91fdd73898b9e2aa1d1e04ebcb8a6" kindref="member">deleteWORDSbyGID</ref>(self,<sp/>gid):</highlight></codeline>
<codeline lineno="810"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="811"><highlight class="normal"></highlight></codeline>
<codeline lineno="812"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theWords<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="813"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(WORDS).\</highlight></codeline>
<codeline lineno="814"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(WORDS.gid==gid).\</highlight></codeline>
<codeline lineno="815"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delete()</highlight></codeline>
<codeline lineno="816"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="817"><highlight class="normal"></highlight></codeline>
<codeline lineno="818" refid="classdb__layer_1_1_database_1a849faf2993ee0d75f38639f22c3553e7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a849faf2993ee0d75f38639f22c3553e7" kindref="member">insertWORDSbyGID</ref>(self,<sp/>gid,<sp/>data):</highlight></codeline>
<codeline lineno="819"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="820"><highlight class="normal"></highlight></codeline>
<codeline lineno="821"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>numLine<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="822"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_database_1af7c91fdd73898b9e2aa1d1e04ebcb8a6" kindref="member">deleteWORDSbyGID</ref>(gid)</highlight></codeline>
<codeline lineno="823"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>line<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>data.split(</highlight><highlight class="stringliteral">&apos;\n&apos;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="824"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>line<sp/>!=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="825"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>numLine<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="826"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newWords<sp/>=<sp/><ref refid="classdb__layer_1_1_w_o_r_d_s" kindref="compound">WORDS</ref>()</highlight></codeline>
<codeline lineno="827"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newWords.wordsid<sp/>=<sp/>numLine</highlight></codeline>
<codeline lineno="828"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newWords.gid<sp/>=<sp/>gid</highlight></codeline>
<codeline lineno="829"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newWords.words=<sp/>line</highlight></codeline>
<codeline lineno="830"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(&apos;words:<sp/>%r&apos;<sp/>%<sp/>newWords)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="831"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.add(newWords)</highlight></codeline>
<codeline lineno="832"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.commit()</highlight></codeline>
<codeline lineno="833"><highlight class="normal"></highlight></codeline>
<codeline lineno="834"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classdb__layer_1_1_database_1a7f168024109c6490cca9f764cd0bbeac" kindref="member">findWORDSbyGID</ref>(gid)</highlight></codeline>
<codeline lineno="835"><highlight class="normal"></highlight></codeline>
<codeline lineno="836" refid="classdb__layer_1_1_database_1abf6ce37aea5202f161dbd3e3c41d6a6e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1abf6ce37aea5202f161dbd3e3c41d6a6e" kindref="member">wr_insertWORDSbyGID</ref>(self,<sp/>theDict):</highlight></codeline>
<codeline lineno="837"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="838"><highlight class="normal"></highlight></codeline>
<codeline lineno="839"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gid<sp/>=<sp/>theDict.get(</highlight><highlight class="stringliteral">&apos;gid&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="840"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data<sp/>=<sp/>theDict.get(</highlight><highlight class="stringliteral">&apos;data&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="841"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(&quot;&gt;&gt;&gt;&gt;<sp/>db.wr_insertWORDSbyGID::<sp/>%r,<sp/>%r&quot;<sp/>%<sp/>(gid,<sp/>data))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="842"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classdb__layer_1_1_database_1a849faf2993ee0d75f38639f22c3553e7" kindref="member">insertWORDSbyGID</ref>(gid,<sp/>data)</highlight></codeline>
<codeline lineno="843"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#return<sp/>None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="844"><highlight class="normal"></highlight></codeline>
<codeline lineno="845" refid="classdb__layer_1_1_database_1a940f5d9df2aa98c4c4452d9a005a0788" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a940f5d9df2aa98c4c4452d9a005a0788" kindref="member">findMIMESbyGID</ref>(self,<sp/>gid):</highlight></codeline>
<codeline lineno="846"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="847"><highlight class="normal"></highlight></codeline>
<codeline lineno="848"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theMimes<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="849"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(MIMES).\</highlight></codeline>
<codeline lineno="850"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(MIMES.gid==gid).\</highlight></codeline>
<codeline lineno="851"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>all()</highlight></codeline>
<codeline lineno="852"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>theMimes</highlight></codeline>
<codeline lineno="853"><highlight class="normal"></highlight></codeline>
<codeline lineno="854" refid="classdb__layer_1_1_database_1a844ac1872f0ddf55d238e2bc229354c0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a844ac1872f0ddf55d238e2bc229354c0" kindref="member">deleteMIMESbyGID</ref>(self,<sp/>gid):</highlight></codeline>
<codeline lineno="855"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="856"><highlight class="normal"></highlight></codeline>
<codeline lineno="857"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theMimes<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="858"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(MIMES).\</highlight></codeline>
<codeline lineno="859"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(MIMES.gid==gid).\</highlight></codeline>
<codeline lineno="860"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>delete()</highlight></codeline>
<codeline lineno="861"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="862"><highlight class="normal"></highlight></codeline>
<codeline lineno="863" refid="classdb__layer_1_1_database_1ae95955bc5ae21324a753dca4d76f69f1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1ae95955bc5ae21324a753dca4d76f69f1" kindref="member">insertMIMESbyGID</ref>(self,<sp/>gid,<sp/>data):</highlight></codeline>
<codeline lineno="864"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="865"><highlight class="normal"></highlight></codeline>
<codeline lineno="866"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>numLine<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="867"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_database_1a844ac1872f0ddf55d238e2bc229354c0" kindref="member">deleteMIMESbyGID</ref>(gid)</highlight></codeline>
<codeline lineno="868"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>line<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>data.split(</highlight><highlight class="stringliteral">&apos;\n&apos;</highlight><highlight class="normal">):</highlight></codeline>
<codeline lineno="869"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>line<sp/>!=<sp/></highlight><highlight class="stringliteral">&quot;&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="870"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>numLine<sp/>+=<sp/>1</highlight></codeline>
<codeline lineno="871"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newMimes<sp/>=<sp/><ref refid="classdb__layer_1_1_m_i_m_e_s" kindref="compound">MIMES</ref>()</highlight></codeline>
<codeline lineno="872"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newMimes.mimeid<sp/>=<sp/>numLine</highlight></codeline>
<codeline lineno="873"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newMimes.gid<sp/>=<sp/>gid</highlight></codeline>
<codeline lineno="874"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newMimes.mimes=<sp/>line</highlight></codeline>
<codeline lineno="875"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(&apos;mimes:<sp/>%r&apos;<sp/>%<sp/>newMimes)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="876"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.add(newMimes)</highlight></codeline>
<codeline lineno="877"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session.commit()</highlight></codeline>
<codeline lineno="878"><highlight class="normal"></highlight></codeline>
<codeline lineno="879"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classdb__layer_1_1_database_1a940f5d9df2aa98c4c4452d9a005a0788" kindref="member">findMIMESbyGID</ref>(gid)</highlight></codeline>
<codeline lineno="880"><highlight class="normal"></highlight></codeline>
<codeline lineno="881" refid="classdb__layer_1_1_database_1ac2a8936466701acf8972dd1dbb73d0ad" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1ac2a8936466701acf8972dd1dbb73d0ad" kindref="member">wr_insertMIMESbyGID</ref>(self,<sp/>theDict):</highlight></codeline>
<codeline lineno="882"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="883"><highlight class="normal"></highlight></codeline>
<codeline lineno="884"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>gid<sp/>=<sp/>theDict.get(</highlight><highlight class="stringliteral">&apos;gid&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="885"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data<sp/>=<sp/>theDict.get(</highlight><highlight class="stringliteral">&apos;data&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="886"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(&quot;&gt;&gt;&gt;&gt;<sp/>db.wr_insertMIMESbyGID::<sp/>%r,<sp/>%r&quot;<sp/>%<sp/>(gid,<sp/>data))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="887"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classdb__layer_1_1_database_1ae95955bc5ae21324a753dca4d76f69f1" kindref="member">insertMIMESbyGID</ref>(gid,<sp/>data)</highlight></codeline>
<codeline lineno="888"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#return<sp/>None</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="889"><highlight class="normal"></highlight></codeline>
<codeline lineno="890"><highlight class="normal"></highlight></codeline>
<codeline lineno="891" refid="classdb__layer_1_1_database_1a014383f7f432ef974c12c87bdbe08546" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_database_1a014383f7f432ef974c12c87bdbe08546" kindref="member">getRULES</ref>(self,<sp/>kind,<sp/>username):</highlight></codeline>
<codeline lineno="892"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>session<sp/>=<sp/>self.<ref refid="classdb__layer_1_1_database_1aae62e5b4c9fd796107461b247434ee2b" kindref="member">__DBSession__</ref>()</highlight></codeline>
<codeline lineno="893"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>kind<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;MIME&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="894"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>table<sp/>=<sp/>MIMES</highlight></codeline>
<codeline lineno="895"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tableid<sp/>=<sp/>MIMES.mimeid</highlight></codeline>
<codeline lineno="896"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>datacol<sp/>=<sp/>MIMES.mimes</highlight></codeline>
<codeline lineno="897"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>kind<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;URIS&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="898"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>table<sp/>=<sp/>URIS</highlight></codeline>
<codeline lineno="899"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tableid<sp/>=<sp/>URIS.uriid</highlight></codeline>
<codeline lineno="900"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>datacol<sp/>=<sp/>URIS.uri</highlight></codeline>
<codeline lineno="901"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>kind<sp/>==<sp/></highlight><highlight class="stringliteral">&apos;WORD&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="902"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>table<sp/>=<sp/>WORDS</highlight></codeline>
<codeline lineno="903"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>tableid<sp/>=<sp/>WORDS.wordsid</highlight></codeline>
<codeline lineno="904"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>datacol<sp/>=<sp/>WORDS.words</highlight></codeline>
<codeline lineno="905"><highlight class="normal"></highlight></codeline>
<codeline lineno="906"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theRules<sp/>=<sp/>session.\</highlight></codeline>
<codeline lineno="907"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>query(Groups).\</highlight></codeline>
<codeline lineno="908"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>join(User).\</highlight></codeline>
<codeline lineno="909"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>join(Group).\</highlight></codeline>
<codeline lineno="910"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>join(table).\</highlight></codeline>
<codeline lineno="911"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>add_entity(User).\</highlight></codeline>
<codeline lineno="912"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>add_entity(Group).\</highlight></codeline>
<codeline lineno="913"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>add_entity(table).\</highlight></codeline>
<codeline lineno="914"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(Groups.uid==User.uid).\</highlight></codeline>
<codeline lineno="915"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(Groups.gid==Group.gid).\</highlight></codeline>
<codeline lineno="916"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(Groups.gid==table.gid).\</highlight></codeline>
<codeline lineno="917"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>filter(User.username==username).\</highlight></codeline>
<codeline lineno="918"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>all()</highlight></codeline>
<codeline lineno="919"><highlight class="normal"></highlight></codeline>
<codeline lineno="920"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theanswer<sp/>=<sp/>[]</highlight></codeline>
<codeline lineno="921"><highlight class="normal"></highlight></codeline>
<codeline lineno="922"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>rule<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>theRules:</highlight></codeline>
<codeline lineno="923"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theRule<sp/>=<sp/><ref refid="classdb__layer_1_1_rule" kindref="compound">Rule</ref>()</highlight></codeline>
<codeline lineno="924"><highlight class="normal"></highlight></codeline>
<codeline lineno="925"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theRule.fromData(rule)</highlight></codeline>
<codeline lineno="926"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>theanswer.append(theRule)</highlight></codeline>
<codeline lineno="927"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>return(theanswer)</highlight></codeline>
<codeline lineno="928"><highlight class="normal"></highlight></codeline>
<codeline lineno="929"><highlight class="normal"></highlight></codeline>
<codeline lineno="930"><highlight class="normal"></highlight></codeline>
<codeline lineno="931" refid="classdb__layer_1_1_rule" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_rule" kindref="compound">Rule</ref>(object):</highlight></codeline>
<codeline lineno="932" refid="classdb__layer_1_1_rule_1a95e5ea7102732d56c61b4a0b3f37619b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>tableid<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="933" refid="classdb__layer_1_1_rule_1a9826ed75d79061c3fe046e62864ffa58" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>ruleid<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="934" refid="classdb__layer_1_1_rule_1acd0964c11f2797d211f109a379bfd595" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>uid<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="935" refid="classdb__layer_1_1_rule_1acc2d1385294c5f2e6c904d5d45f6b993" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>gid<sp/>=<sp/>0</highlight></codeline>
<codeline lineno="936" refid="classdb__layer_1_1_rule_1a3b04471d06abe2199c7f9deb646be68d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>username<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="937" refid="classdb__layer_1_1_rule_1a34a1b2f08b6ff459e4a4ab84ddf6732e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>groupname<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="938" refid="classdb__layer_1_1_rule_1adda2b017e49fb9e1ce8a18821062e94d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>rulecontent<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="939"><highlight class="normal"></highlight></codeline>
<codeline lineno="940" refid="classdb__layer_1_1_rule_1a9b86f9db748678957d419cbf0ff1ab1b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_rule_1a9b86f9db748678957d419cbf0ff1ab1b" kindref="member">fromData</ref>(self,<sp/>data):</highlight></codeline>
<codeline lineno="941"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>[groups,<sp/>user,<sp/>group,<sp/>ruleset]<sp/>=<sp/>data</highlight></codeline>
<codeline lineno="942" refid="classdb__layer_1_1_rule_1a99584e0f74f7c52fb08bd7df132672ad" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_rule_1acd0964c11f2797d211f109a379bfd595" kindref="member">uid</ref><sp/>=<sp/>user.uid</highlight></codeline>
<codeline lineno="943" refid="classdb__layer_1_1_rule_1a91b3762b7d9fff303d381673fa4d2b7e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_rule_1acc2d1385294c5f2e6c904d5d45f6b993" kindref="member">gid</ref><sp/>=<sp/>group.gid</highlight></codeline>
<codeline lineno="944" refid="classdb__layer_1_1_rule_1adb9fcf60a52edeada35d9074b1533080" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_rule_1a3b04471d06abe2199c7f9deb646be68d" kindref="member">username</ref><sp/>=<sp/>user.username</highlight></codeline>
<codeline lineno="945" refid="classdb__layer_1_1_rule_1a55660655f1b48f3f9f6c564781e7146b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_rule_1a34a1b2f08b6ff459e4a4ab84ddf6732e" kindref="member">groupname</ref><sp/>=<sp/>group.groupname</highlight></codeline>
<codeline lineno="946"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(type(ruleset))<sp/>==<sp/>URIS:</highlight></codeline>
<codeline lineno="947" refid="classdb__layer_1_1_rule_1a27231c3bdb91a5ca5182fd3d82b450f2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_rule_1a95e5ea7102732d56c61b4a0b3f37619b" kindref="member">tableid</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;URIS&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="948" refid="classdb__layer_1_1_rule_1af82864d81aca316dcd34545f42598160" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_rule_1a9826ed75d79061c3fe046e62864ffa58" kindref="member">ruleid</ref><sp/>=<sp/>ruleset.uriid</highlight></codeline>
<codeline lineno="949" refid="classdb__layer_1_1_rule_1a818bda1ddeae841530511302a3a4d12b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_rule_1adda2b017e49fb9e1ce8a18821062e94d" kindref="member">rulecontent</ref><sp/>=<sp/>ruleset.uri</highlight></codeline>
<codeline lineno="950"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>(type(ruleset))<sp/>==<sp/>WORDS:</highlight></codeline>
<codeline lineno="951"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_rule_1a95e5ea7102732d56c61b4a0b3f37619b" kindref="member">tableid</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;WORD&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="952"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_rule_1a9826ed75d79061c3fe046e62864ffa58" kindref="member">ruleid</ref><sp/>=<sp/>ruleset.wordsid</highlight></codeline>
<codeline lineno="953"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_rule_1adda2b017e49fb9e1ce8a18821062e94d" kindref="member">rulecontent</ref><sp/>=<sp/>ruleset.words</highlight></codeline>
<codeline lineno="954"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>WORDS.words</highlight></codeline>
<codeline lineno="955"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">elif</highlight><highlight class="normal"><sp/>(type(ruleset))<sp/>==<sp/>MIMES:</highlight></codeline>
<codeline lineno="956"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_rule_1a95e5ea7102732d56c61b4a0b3f37619b" kindref="member">tableid</ref><sp/>=<sp/></highlight><highlight class="stringliteral">&apos;MIME&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="957"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_rule_1a9826ed75d79061c3fe046e62864ffa58" kindref="member">ruleid</ref><sp/>=<sp/>ruleset.mimeid</highlight></codeline>
<codeline lineno="958"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_rule_1adda2b017e49fb9e1ce8a18821062e94d" kindref="member">rulecontent</ref><sp/>=<sp/>ruleset.mimes</highlight></codeline>
<codeline lineno="959"><highlight class="normal"></highlight></codeline>
<codeline lineno="960" refid="classdb__layer_1_1_rule_1a745c8dd200e8dfefd352f1e260e5ab50" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_rule_1a745c8dd200e8dfefd352f1e260e5ab50" kindref="member">__repr__</ref>(self):</highlight></codeline>
<codeline lineno="961"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;{\n\t&quot;tableid&quot;:<sp/>&quot;%s&quot;,\n\t&quot;ruleid&quot;:<sp/>%r,\n\t&quot;uid&quot;:<sp/>%r,\n\t&quot;gid&quot;:<sp/>%r,\n\t&quot;username&quot;:<sp/>&quot;%s&quot;,\n\t&quot;groupname&quot;:<sp/>&quot;%s&quot;,\n\t&quot;rulecontent&quot;:<sp/>&quot;%s&quot;\n}&apos;</highlight><highlight class="normal"><sp/>\</highlight></codeline>
<codeline lineno="962"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>%<sp/>(self.<ref refid="classdb__layer_1_1_rule_1a95e5ea7102732d56c61b4a0b3f37619b" kindref="member">tableid</ref>,<sp/>self.<ref refid="classdb__layer_1_1_rule_1a9826ed75d79061c3fe046e62864ffa58" kindref="member">ruleid</ref>,<sp/>self.<ref refid="classdb__layer_1_1_rule_1acd0964c11f2797d211f109a379bfd595" kindref="member">uid</ref>,<sp/>self.<ref refid="classdb__layer_1_1_rule_1acc2d1385294c5f2e6c904d5d45f6b993" kindref="member">gid</ref>,<sp/>self.<ref refid="classdb__layer_1_1_rule_1a3b04471d06abe2199c7f9deb646be68d" kindref="member">username</ref>,<sp/>self.<ref refid="classdb__layer_1_1_rule_1a34a1b2f08b6ff459e4a4ab84ddf6732e" kindref="member">groupname</ref>,<sp/>self.<ref refid="classdb__layer_1_1_rule_1adda2b017e49fb9e1ce8a18821062e94d" kindref="member">rulecontent</ref>)</highlight></codeline>
<codeline lineno="963" refid="classdb__layer_1_1_rule_1a727eb695fe5bb6d6a42219429ff8c7cc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_rule_1a727eb695fe5bb6d6a42219429ff8c7cc" kindref="member">__toString__</ref>(self):</highlight></codeline>
<codeline lineno="964"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;Rule(%r,%r,%r,%r,%r,%r,%r)&quot;</highlight><highlight class="normal"><sp/>%<sp/>(self.<ref refid="classdb__layer_1_1_rule_1a95e5ea7102732d56c61b4a0b3f37619b" kindref="member">tableid</ref>,<sp/>self.<ref refid="classdb__layer_1_1_rule_1a9826ed75d79061c3fe046e62864ffa58" kindref="member">ruleid</ref>,<sp/>self.<ref refid="classdb__layer_1_1_rule_1acd0964c11f2797d211f109a379bfd595" kindref="member">uid</ref>,<sp/>self.<ref refid="classdb__layer_1_1_rule_1acc2d1385294c5f2e6c904d5d45f6b993" kindref="member">gid</ref>,<sp/>self.<ref refid="classdb__layer_1_1_rule_1a3b04471d06abe2199c7f9deb646be68d" kindref="member">username</ref>,<sp/>self.<ref refid="classdb__layer_1_1_rule_1a34a1b2f08b6ff459e4a4ab84ddf6732e" kindref="member">groupname</ref>,<sp/>self.<ref refid="classdb__layer_1_1_rule_1adda2b017e49fb9e1ce8a18821062e94d" kindref="member">rulecontent</ref>)</highlight></codeline>
<codeline lineno="965"><highlight class="normal"></highlight></codeline>
<codeline lineno="966"><highlight class="normal"></highlight></codeline>
<codeline lineno="967"><highlight class="normal"></highlight></codeline>
<codeline lineno="968" refid="classdb__layer_1_1_groups" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_groups" kindref="compound">Groups</ref>(<ref refid="namespacedb__layer_1abf9d884063baa5841f513855cff66c26" kindref="member">Base</ref>):</highlight></codeline>
<codeline lineno="969"><highlight class="normal"><sp/><sp/><sp/><sp/>__tablename__<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;GRUPOS&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="970" refid="classdb__layer_1_1_groups_1a14ee9c00efa52f89924369f75532c416" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>uid=Column(Integer,<sp/>ForeignKey(</highlight><highlight class="stringliteral">&apos;USUARIO.uid&apos;</highlight><highlight class="normal">),<sp/>nullable=</highlight><highlight class="keyword">False</highlight><highlight class="normal">,<sp/>primary_key=</highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/>index=</highlight><highlight class="keyword">True</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="971" refid="classdb__layer_1_1_groups_1aded07ebac158a99bf9fd01c87bba222c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>gid=Column(Integer,<sp/>ForeignKey(</highlight><highlight class="stringliteral">&apos;GRUPO.gid&apos;</highlight><highlight class="normal">),<sp/>nullable=</highlight><highlight class="keyword">False</highlight><highlight class="normal">,<sp/>primary_key=</highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/>index=</highlight><highlight class="keyword">True</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="972"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#_usuario<sp/>=<sp/>relationship(&quot;User&quot;,<sp/>backref=&quot;GRUPOS&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="973"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#_grupo<sp/>=<sp/>relationship(&quot;Group&quot;,<sp/>backref=&quot;GRUPOS&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="974"><highlight class="normal"></highlight></codeline>
<codeline lineno="975"><highlight class="normal"></highlight></codeline>
<codeline lineno="976" refid="classdb__layer_1_1_groups_1a7aa22d0c37d3330a08590a6af6260387" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_groups_1a7aa22d0c37d3330a08590a6af6260387" kindref="member">__init__</ref>(self,<sp/>user,<sp/>group):</highlight></codeline>
<codeline lineno="977" refid="classdb__layer_1_1_groups_1a392e40281e072b1c43e562928f656a1e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_groups_1a14ee9c00efa52f89924369f75532c416" kindref="member">uid</ref>=user.uid</highlight></codeline>
<codeline lineno="978" refid="classdb__layer_1_1_groups_1af0a5178fa5eced1a1d3ff053a8171bd6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_groups_1aded07ebac158a99bf9fd01c87bba222c" kindref="member">gid</ref>=group.gid</highlight></codeline>
<codeline lineno="979"><highlight class="normal"></highlight></codeline>
<codeline lineno="980" refid="classdb__layer_1_1_groups_1ad6c13cffa730507128cffd4401485225" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_groups_1ad6c13cffa730507128cffd4401485225" kindref="member">fromjson</ref>(self,<sp/>jsondata):</highlight></codeline>
<codeline lineno="981"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dict_data<sp/>=<sp/>json.loads(jsondata)</highlight></codeline>
<codeline lineno="982"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_groups_1a14ee9c00efa52f89924369f75532c416" kindref="member">uid</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;uid&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="983"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_groups_1aded07ebac158a99bf9fd01c87bba222c" kindref="member">gid</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;gid&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="984"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="985"><highlight class="normal"></highlight></codeline>
<codeline lineno="986" refid="classdb__layer_1_1_groups_1a8ce7c44c7a07175c805663313741c54e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_groups_1a8ce7c44c7a07175c805663313741c54e" kindref="member">__repr__</ref>(self):</highlight></codeline>
<codeline lineno="987"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;{&apos;uid&apos;:<sp/>%r,\n\t&apos;gid&apos;:<sp/>%r}\n&quot;</highlight><highlight class="normal"><sp/>%<sp/>(self.<ref refid="classdb__layer_1_1_groups_1a14ee9c00efa52f89924369f75532c416" kindref="member">uid</ref>,<sp/>self.<ref refid="classdb__layer_1_1_groups_1aded07ebac158a99bf9fd01c87bba222c" kindref="member">gid</ref>)</highlight></codeline>
<codeline lineno="988"><highlight class="normal"></highlight></codeline>
<codeline lineno="989" refid="classdb__layer_1_1_groups_1a42a22e15d4c61b933187e912db73be95" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_groups_1a42a22e15d4c61b933187e912db73be95" kindref="member">__toSring__</ref>(self):</highlight></codeline>
<codeline lineno="990"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;Groups(%r,%r)&quot;</highlight><highlight class="normal"><sp/>%<sp/>(self.<ref refid="classdb__layer_1_1_groups_1a14ee9c00efa52f89924369f75532c416" kindref="member">uid</ref>,self.<ref refid="classdb__layer_1_1_groups_1aded07ebac158a99bf9fd01c87bba222c" kindref="member">gid</ref>)</highlight></codeline>
<codeline lineno="991"><highlight class="normal"></highlight></codeline>
<codeline lineno="992" refid="classdb__layer_1_1_groups_1a76ff037df6adbeec12fc23130f48c542" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_groups_1a76ff037df6adbeec12fc23130f48c542" kindref="member">JSONdump</ref>(self):</highlight></codeline>
<codeline lineno="993"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>json.dumps(self,<sp/>cls=AlchemyEncoder)</highlight></codeline>
<codeline lineno="994"><highlight class="normal"></highlight></codeline>
<codeline lineno="995" refid="classdb__layer_1_1_groups_1acb2877ad9f52af696b7a1b3d1c2ccce2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_groups_1acb2877ad9f52af696b7a1b3d1c2ccce2" kindref="member">__eq__</ref>(self,<sp/>other):</highlight></codeline>
<codeline lineno="996"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(&quot;.<sp/>%r&quot;<sp/>%<sp/>self.__repr__())</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="997"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(&quot;.<sp/>%r&quot;<sp/>%<sp/>other.__repr__())</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="998"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self.<ref refid="classdb__layer_1_1_groups_1a8bfcf367480236b16057520460c36955" kindref="member">__dict__</ref><sp/>==<sp/>other.__dict__</highlight></codeline>
<codeline lineno="999"><highlight class="normal"></highlight></codeline>
<codeline lineno="1000" refid="classdb__layer_1_1_groups_1ac11f473a264eb8924516c1e19053d571" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_groups_1ac11f473a264eb8924516c1e19053d571" kindref="member">pertenece</ref>(self,<sp/>user):</highlight></codeline>
<codeline lineno="1001"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>user.uid<sp/>==<sp/>self.<ref refid="classdb__layer_1_1_groups_1a14ee9c00efa52f89924369f75532c416" kindref="member">uid</ref>:</highlight></codeline>
<codeline lineno="1002"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1003"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1004"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1005"><highlight class="normal"></highlight></codeline>
<codeline lineno="1006" refid="classdb__layer_1_1_groups_1a654f6803bf6349c14312e034f3b7112e" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_groups_1a654f6803bf6349c14312e034f3b7112e" kindref="member">contiene</ref>(self,<sp/>group):</highlight></codeline>
<codeline lineno="1007"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>group.gid<sp/>==<sp/>self.<ref refid="classdb__layer_1_1_groups_1aded07ebac158a99bf9fd01c87bba222c" kindref="member">gid</ref>:</highlight></codeline>
<codeline lineno="1008"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1009"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1010"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="keyword">False</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1011"><highlight class="normal"></highlight></codeline>
<codeline lineno="1012"><highlight class="normal"></highlight></codeline>
<codeline lineno="1013" refid="namespacedb__layer_1a0d5b65488cbaa2ab5d2cdb3c69a98c79" refkind="member"><highlight class="normal">roles<sp/>=<sp/>{</highlight><highlight class="stringliteral">&apos;A&apos;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="stringliteral">&apos;Admin<sp/>User&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;V&apos;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="stringliteral">&apos;Advanced<sp/>User&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;K&apos;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="stringliteral">&apos;Kid<sp/>User&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;G&apos;</highlight><highlight class="normal"><sp/>:<sp/></highlight><highlight class="stringliteral">&apos;Guest<sp/>User&apos;</highlight><highlight class="normal">}</highlight></codeline>
<codeline lineno="1014"><highlight class="normal"></highlight></codeline>
<codeline lineno="1015"><highlight class="normal"></highlight></codeline>
<codeline lineno="1016" refid="classdb__layer_1_1_rol_type" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_rol_type" kindref="compound">RolType</ref>(object):</highlight></codeline>
<codeline lineno="1017" refid="classdb__layer_1_1_rol_type_1ac219734b1185319c39edd2d1ce8ebdd3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_rol_type_1ac219734b1185319c39edd2d1ce8ebdd3" kindref="member">getValue</ref>(key):</highlight></codeline>
<codeline lineno="1018"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>roles.get(key)</highlight></codeline>
<codeline lineno="1019" refid="classdb__layer_1_1_rol_type_1a8c95271c5e2ca02343571ccc433a7ae7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_rol_type_1a8c95271c5e2ca02343571ccc433a7ae7" kindref="member">getKeys</ref>():</highlight></codeline>
<codeline lineno="1020"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>roles.keys()</highlight></codeline>
<codeline lineno="1021" refid="classdb__layer_1_1_rol_type_1ac5bb27c22700d45efbcc4c70008bf132" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_rol_type_1ac5bb27c22700d45efbcc4c70008bf132" kindref="member">getValues</ref>():</highlight></codeline>
<codeline lineno="1022"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>roles.values()</highlight></codeline>
<codeline lineno="1023" refid="classdb__layer_1_1_rol_type_1af434fa575abfc7b77fc9a42232cfabce" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_rol_type_1af434fa575abfc7b77fc9a42232cfabce" kindref="member">dbTypes</ref>():</highlight></codeline>
<codeline lineno="1024"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classdb__layer_1_1_rol_type_1ac5bb27c22700d45efbcc4c70008bf132" kindref="member">getValues</ref>()</highlight></codeline>
<codeline lineno="1025" refid="classdb__layer_1_1_rol_type_1a44f36ecca8c51e602cff1de6ea476851" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_rol_type_1a44f36ecca8c51e602cff1de6ea476851" kindref="member">get_adm_user_key</ref>():</highlight></codeline>
<codeline lineno="1026"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;A&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1027" refid="classdb__layer_1_1_rol_type_1a3c8749a4826906bc3f2f92f181161cd0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_rol_type_1a3c8749a4826906bc3f2f92f181161cd0" kindref="member">get_adv_user_key</ref>():</highlight></codeline>
<codeline lineno="1028"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;V&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1029" refid="classdb__layer_1_1_rol_type_1aa43cd09dad2819bca4e4da02f412d770" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_rol_type_1aa43cd09dad2819bca4e4da02f412d770" kindref="member">get_kid_user_key</ref>():</highlight></codeline>
<codeline lineno="1030"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;K&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1031" refid="classdb__layer_1_1_rol_type_1a3f6b03ea44b384f6793883881b8510b6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_rol_type_1a3f6b03ea44b384f6793883881b8510b6" kindref="member">get_guest_user_key</ref>():</highlight></codeline>
<codeline lineno="1032"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;G&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1033" refid="classdb__layer_1_1_rol_type_1ac819be49bc1ef2a87970cf7e372bef0c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_rol_type_1ac819be49bc1ef2a87970cf7e372bef0c" kindref="member">get_adm_user</ref>():</highlight></codeline>
<codeline lineno="1034"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classdb__layer_1_1_rol_type_1ac219734b1185319c39edd2d1ce8ebdd3" kindref="member">getValue</ref>(</highlight><highlight class="stringliteral">&apos;A&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1035" refid="classdb__layer_1_1_rol_type_1a0707e3b825ccab3ea4bb857bfb4cd344" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_rol_type_1a0707e3b825ccab3ea4bb857bfb4cd344" kindref="member">get_adv_user</ref>():</highlight></codeline>
<codeline lineno="1036"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classdb__layer_1_1_rol_type_1ac219734b1185319c39edd2d1ce8ebdd3" kindref="member">getValue</ref>(</highlight><highlight class="stringliteral">&apos;V&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1037" refid="classdb__layer_1_1_rol_type_1ae03637b7a2156ef5524a408944153775" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_rol_type_1ae03637b7a2156ef5524a408944153775" kindref="member">get_kid_user</ref>():</highlight></codeline>
<codeline lineno="1038"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classdb__layer_1_1_rol_type_1ac219734b1185319c39edd2d1ce8ebdd3" kindref="member">getValue</ref>(</highlight><highlight class="stringliteral">&apos;K&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1039" refid="classdb__layer_1_1_rol_type_1a05917cf2e8a756295bd011f48ec4ddc3" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_rol_type_1a05917cf2e8a756295bd011f48ec4ddc3" kindref="member">get_guest_user</ref>():</highlight></codeline>
<codeline lineno="1040"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="classdb__layer_1_1_rol_type_1ac219734b1185319c39edd2d1ce8ebdd3" kindref="member">getValue</ref>(</highlight><highlight class="stringliteral">&apos;G&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1041"><highlight class="normal"></highlight></codeline>
<codeline lineno="1042" refid="classdb__layer_1_1_user" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_user" kindref="compound">User</ref>(<ref refid="namespacedb__layer_1abf9d884063baa5841f513855cff66c26" kindref="member">Base</ref>):</highlight></codeline>
<codeline lineno="1043"><highlight class="normal"></highlight></codeline>
<codeline lineno="1044"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#&apos;NON_M&apos;,&apos;HXX_M&apos;,<sp/>&apos;NIG_M&apos;,<sp/>&apos;DAY_M&apos;,<sp/>&apos;ALL_M&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1045"><highlight class="normal"></highlight></codeline>
<codeline lineno="1046"><highlight class="normal"><sp/><sp/><sp/><sp/>__tablename__<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;USUARIO&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1047" refid="classdb__layer_1_1_user_1aaf892db2c6e38a461364db0e751b9f63" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>uid<sp/>=<sp/>Column(Integer,<sp/>primary_key=</highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/>autoincrement=</highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/>unique=</highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/>index=</highlight><highlight class="keyword">True</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1048" refid="classdb__layer_1_1_user_1a096c898547257a09c296dd25a6625ff0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>username<sp/>=<sp/>Column(String(20),<sp/>nullable=</highlight><highlight class="keyword">False</highlight><highlight class="normal">,<sp/>unique=</highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/>index=</highlight><highlight class="keyword">True</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1049" refid="classdb__layer_1_1_user_1ae4e4cc108d1b9fcb54c93f28d8c04cce" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>rol<sp/>=<sp/>Column(Enum(</highlight><highlight class="stringliteral">&apos;A&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;V&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;K&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;G&apos;</highlight><highlight class="normal">),<sp/>default<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;G&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1050" refid="classdb__layer_1_1_user_1ae6293d034b011b8ff8c7c0d77d914ab6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>password=<sp/>Column(String(16),<sp/>nullable=</highlight><highlight class="keyword">False</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1051" refid="classdb__layer_1_1_user_1af10568688235c01f6244aebc285192a7" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>description<sp/>=<sp/>Column(String(80),<sp/>nullable=</highlight><highlight class="keyword">False</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1052" refid="classdb__layer_1_1_user_1a3746b030cfe8c68de00434e7f7aa55e8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>L_AH<sp/>=<sp/>Column(Integer,<sp/>default=HOURS_MASK[</highlight><highlight class="stringliteral">&apos;NON_M&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="1053" refid="classdb__layer_1_1_user_1aca612c160e61b610ecb37dd55b83f528" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>M_AH<sp/>=<sp/>Column(Integer,<sp/>default=HOURS_MASK[</highlight><highlight class="stringliteral">&apos;NON_M&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="1054" refid="classdb__layer_1_1_user_1ada11ed7b535bdb0eb30e2e48c0cd5e8a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>X_AH<sp/>=<sp/>Column(Integer,<sp/>default=HOURS_MASK[</highlight><highlight class="stringliteral">&apos;NON_M&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="1055" refid="classdb__layer_1_1_user_1ad76a60aa40532d858fc7c47cc8ccfc6d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>J_AH<sp/>=<sp/>Column(Integer,<sp/>default=HOURS_MASK[</highlight><highlight class="stringliteral">&apos;NON_M&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="1056" refid="classdb__layer_1_1_user_1a52dcce70c5f6169a4edec3033868281c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>V_AH<sp/>=<sp/>Column(Integer,<sp/>default=HOURS_MASK[</highlight><highlight class="stringliteral">&apos;NON_M&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="1057" refid="classdb__layer_1_1_user_1a612925ca4a2496400fcdd7b6634ff812" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>S_AH<sp/>=<sp/>Column(Integer,<sp/>default=HOURS_MASK[</highlight><highlight class="stringliteral">&apos;NON_M&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="1058" refid="classdb__layer_1_1_user_1a59e61bc39bfe07f6d3b4dfd06fa95262" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>D_AH<sp/>=<sp/>Column(Integer,<sp/>default=HOURS_MASK[</highlight><highlight class="stringliteral">&apos;NON_M&apos;</highlight><highlight class="normal">])</highlight></codeline>
<codeline lineno="1059"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#_usuarios<sp/>=<sp/>relationship(&quot;Groups&quot;,<sp/>backref=&quot;USUARIO&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1060"><highlight class="normal"></highlight></codeline>
<codeline lineno="1061" refid="classdb__layer_1_1_user_1a2d9e52ef307d7bba356ba9b1e65d6724" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_user_1a2d9e52ef307d7bba356ba9b1e65d6724" kindref="member">stringColumns</ref>(self):</highlight></codeline>
<codeline lineno="1062"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[</highlight><highlight class="stringliteral">&apos;username&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;rol&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;password&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;description&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="1063"><highlight class="normal"></highlight></codeline>
<codeline lineno="1064" refid="classdb__layer_1_1_user_1a7ab0409760a114e0901b490be218e3c6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_user_1a7ab0409760a114e0901b490be218e3c6" kindref="member">intColumns</ref>(self):</highlight></codeline>
<codeline lineno="1065"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[</highlight><highlight class="stringliteral">&apos;uid&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;L_AH&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;M_AH&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;X_AH&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;J_AH&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;V_AH&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;S_AH&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;D_AH&apos;</highlight><highlight class="normal"><sp/>]</highlight></codeline>
<codeline lineno="1066"><highlight class="normal"></highlight></codeline>
<codeline lineno="1067" refid="classdb__layer_1_1_user_1a153f46dc9869527dcae554fea786d52f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_user_1a153f46dc9869527dcae554fea786d52f" kindref="member">fromdict</ref>(self,<sp/>dict_data):</highlight></codeline>
<codeline lineno="1068"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#dict_data<sp/>=<sp/>json.loads(jsondata)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1069" refid="classdb__layer_1_1_user_1a6dd94ba7a77cae42cef41f5f96c01350" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_user_1aaf892db2c6e38a461364db0e751b9f63" kindref="member">uid</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;uid&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="1070" refid="classdb__layer_1_1_user_1a9c0caa7abefdca0584f2a1420afcab3c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_user_1a096c898547257a09c296dd25a6625ff0" kindref="member">username</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;username&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1071" refid="classdb__layer_1_1_user_1a9653e795718277a60fad44950b9c7f35" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_user_1ae4e4cc108d1b9fcb54c93f28d8c04cce" kindref="member">rol</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;rol&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;G&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1072" refid="classdb__layer_1_1_user_1a0789b78aa38f55339c6d584363207566" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_user_1ae6293d034b011b8ff8c7c0d77d914ab6" kindref="member">password</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;password&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1073" refid="classdb__layer_1_1_user_1aa2c9cfe4abc9eaa4a24a03f8cb2fb0f0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_user_1af10568688235c01f6244aebc285192a7" kindref="member">description</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;description&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1074" refid="classdb__layer_1_1_user_1afd2659105a8f031b05e128a7e6280e3d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_user_1a3746b030cfe8c68de00434e7f7aa55e8" kindref="member">L_AH</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;L_AH&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="1075" refid="classdb__layer_1_1_user_1a8bf13647d6c4516d117c8d2ee34c0eb1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_user_1aca612c160e61b610ecb37dd55b83f528" kindref="member">M_AH</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;M_AH&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="1076" refid="classdb__layer_1_1_user_1a3150f6b59d838d843a61afe7793c0c1b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_user_1ada11ed7b535bdb0eb30e2e48c0cd5e8a" kindref="member">X_AH</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;X_AH&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="1077" refid="classdb__layer_1_1_user_1a41f3568a4ad9b61374e53e3a44a23894" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_user_1ad76a60aa40532d858fc7c47cc8ccfc6d" kindref="member">J_AH</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;J_AH&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="1078" refid="classdb__layer_1_1_user_1ae3a5a2f62fd59fb8e1527e18c5dd4681" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_user_1a52dcce70c5f6169a4edec3033868281c" kindref="member">V_AH</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;V_AH&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="1079" refid="classdb__layer_1_1_user_1a0360cfcd177fc4336b8ea141e5ca956a" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_user_1a612925ca4a2496400fcdd7b6634ff812" kindref="member">S_AH</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;S_AH&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="1080" refid="classdb__layer_1_1_user_1a3c3567edc18b74fd8b72325dd92a7319" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_user_1a59e61bc39bfe07f6d3b4dfd06fa95262" kindref="member">D_AH</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;D_AH&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="1081"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="1082"><highlight class="normal"></highlight></codeline>
<codeline lineno="1083" refid="classdb__layer_1_1_user_1a08d47a952fa6c5e35a53186babee6781" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_user_1a08d47a952fa6c5e35a53186babee6781" kindref="member">__repr__</ref>(self):</highlight></codeline>
<codeline lineno="1084"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(</highlight><highlight class="stringliteral">&apos;{\n\t&quot;uid&quot;:<sp/>%r,\n\t&quot;username&quot;:<sp/>&quot;%s&quot;,\n\t&quot;rol&quot;:<sp/>&quot;%s&quot;,\n\t&quot;password&quot;:<sp/>&quot;%s&quot;,\n\t&quot;description&quot;:<sp/>&quot;%s&quot;,\n\t&apos;</highlight><highlight class="normal"><sp/>%</highlight></codeline>
<codeline lineno="1085"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(self.<ref refid="classdb__layer_1_1_user_1aaf892db2c6e38a461364db0e751b9f63" kindref="member">uid</ref>,self.<ref refid="classdb__layer_1_1_user_1a096c898547257a09c296dd25a6625ff0" kindref="member">username</ref>,self.<ref refid="classdb__layer_1_1_user_1ae4e4cc108d1b9fcb54c93f28d8c04cce" kindref="member">rol</ref>,self.<ref refid="classdb__layer_1_1_user_1ae6293d034b011b8ff8c7c0d77d914ab6" kindref="member">password</ref>,self.<ref refid="classdb__layer_1_1_user_1af10568688235c01f6244aebc285192a7" kindref="member">description</ref>)+</highlight></codeline>
<codeline lineno="1086"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&quot;L_AH&quot;:<sp/>%r,\n\t&quot;M_AH&quot;:<sp/>%r,\n\t&quot;X_AH&quot;:<sp/>%r,\n\t&quot;J_AH&quot;:<sp/>%r,\n\t&quot;V_AH&quot;:<sp/>%r,\n\t&quot;S_AH&quot;:<sp/>%r,\n\t&quot;D_AH&quot;:<sp/>%r\n}\n&apos;</highlight><highlight class="normal"><sp/>%</highlight></codeline>
<codeline lineno="1087"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(self.<ref refid="classdb__layer_1_1_user_1a3746b030cfe8c68de00434e7f7aa55e8" kindref="member">L_AH</ref>,<sp/>self.<ref refid="classdb__layer_1_1_user_1aca612c160e61b610ecb37dd55b83f528" kindref="member">M_AH</ref>,<sp/>self.<ref refid="classdb__layer_1_1_user_1ada11ed7b535bdb0eb30e2e48c0cd5e8a" kindref="member">X_AH</ref>,<sp/>self.<ref refid="classdb__layer_1_1_user_1ad76a60aa40532d858fc7c47cc8ccfc6d" kindref="member">J_AH</ref>,<sp/>self.<ref refid="classdb__layer_1_1_user_1a52dcce70c5f6169a4edec3033868281c" kindref="member">V_AH</ref>,<sp/>self.<ref refid="classdb__layer_1_1_user_1a612925ca4a2496400fcdd7b6634ff812" kindref="member">S_AH</ref>,<sp/>self.<ref refid="classdb__layer_1_1_user_1a59e61bc39bfe07f6d3b4dfd06fa95262" kindref="member">D_AH</ref>))</highlight></codeline>
<codeline lineno="1088"><highlight class="normal"></highlight></codeline>
<codeline lineno="1089" refid="classdb__layer_1_1_user_1a6eb84d2363fb99e85e098f9ebd10cd19" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_user_1a6eb84d2363fb99e85e098f9ebd10cd19" kindref="member">toString</ref>(self):</highlight></codeline>
<codeline lineno="1090"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>python_OldVersion:</highlight></codeline>
<codeline lineno="1091"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(</highlight><highlight class="stringliteral">&apos;User(%r,%r,%r,%r,%r)&apos;</highlight><highlight class="normal"><sp/>%<sp/>(self.<ref refid="classdb__layer_1_1_user_1aaf892db2c6e38a461364db0e751b9f63" kindref="member">uid</ref>,self.<ref refid="classdb__layer_1_1_user_1a096c898547257a09c296dd25a6625ff0" kindref="member">username</ref>,self.<ref refid="classdb__layer_1_1_user_1ae4e4cc108d1b9fcb54c93f28d8c04cce" kindref="member">rol</ref>,self.<ref refid="classdb__layer_1_1_user_1ae6293d034b011b8ff8c7c0d77d914ab6" kindref="member">password</ref>,self.<ref refid="classdb__layer_1_1_user_1af10568688235c01f6244aebc285192a7" kindref="member">description</ref>)<sp/>+</highlight></codeline>
<codeline lineno="1092"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;\n\t<sp/><sp/><sp/><sp/>%s&apos;</highlight><highlight class="normal"><sp/>%<sp/>(</highlight><highlight class="stringliteral">&apos;<sp/>0<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>1<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>2<sp/><sp/><sp/>&apos;</highlight><highlight class="normal">)<sp/>+</highlight></codeline>
<codeline lineno="1093"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;\n\t<sp/><sp/><sp/><sp/>%s&apos;</highlight><highlight class="normal"><sp/>%<sp/>(</highlight><highlight class="stringliteral">&apos;<sp/>012345678901234567890123&apos;</highlight><highlight class="normal">)<sp/>+</highlight></codeline>
<codeline lineno="1094"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;\n\t<sp/><sp/><sp/><sp/>%s&apos;</highlight><highlight class="normal"><sp/>%<sp/>(</highlight><highlight class="stringliteral">&apos;<sp/>========================&apos;</highlight><highlight class="normal">)<sp/>+</highlight></codeline>
<codeline lineno="1095"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;\n\tL:<sp/><sp/>%r&apos;</highlight><highlight class="normal"><sp/>%<sp/>(</highlight><highlight class="stringliteral">&apos;<sp/><sp/>{0:24b}&apos;</highlight><highlight class="normal">.format(self.<ref refid="classdb__layer_1_1_user_1a3746b030cfe8c68de00434e7f7aa55e8" kindref="member">L_AH</ref>)[::-1]).translate(maketrans(</highlight><highlight class="stringliteral">&apos;01&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;<sp/>o&apos;</highlight><highlight class="normal">))+</highlight></codeline>
<codeline lineno="1096"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;\n\tM:<sp/><sp/>%r&apos;</highlight><highlight class="normal"><sp/>%<sp/>(</highlight><highlight class="stringliteral">&apos;<sp/><sp/>{0:24b}&apos;</highlight><highlight class="normal">.format(self.<ref refid="classdb__layer_1_1_user_1aca612c160e61b610ecb37dd55b83f528" kindref="member">M_AH</ref>)[::-1]).translate(maketrans(</highlight><highlight class="stringliteral">&apos;01&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;<sp/>o&apos;</highlight><highlight class="normal">))+</highlight></codeline>
<codeline lineno="1097"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;\n\tX:<sp/><sp/>%r&apos;</highlight><highlight class="normal"><sp/>%<sp/>(</highlight><highlight class="stringliteral">&apos;<sp/><sp/>{0:24b}&apos;</highlight><highlight class="normal">.format(self.<ref refid="classdb__layer_1_1_user_1ada11ed7b535bdb0eb30e2e48c0cd5e8a" kindref="member">X_AH</ref>)[::-1]).translate(maketrans(</highlight><highlight class="stringliteral">&apos;01&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;<sp/>o&apos;</highlight><highlight class="normal">))+</highlight></codeline>
<codeline lineno="1098"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;\n\tJ:<sp/><sp/>%r&apos;</highlight><highlight class="normal"><sp/>%<sp/>(</highlight><highlight class="stringliteral">&apos;<sp/><sp/>{0:24b}&apos;</highlight><highlight class="normal">.format(self.<ref refid="classdb__layer_1_1_user_1ad76a60aa40532d858fc7c47cc8ccfc6d" kindref="member">J_AH</ref>)[::-1]).translate(maketrans(</highlight><highlight class="stringliteral">&apos;01&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;<sp/>o&apos;</highlight><highlight class="normal">))+</highlight></codeline>
<codeline lineno="1099"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;\n\tV:<sp/><sp/>%r&apos;</highlight><highlight class="normal"><sp/>%<sp/>(</highlight><highlight class="stringliteral">&apos;<sp/><sp/>{0:24b}&apos;</highlight><highlight class="normal">.format(self.<ref refid="classdb__layer_1_1_user_1a52dcce70c5f6169a4edec3033868281c" kindref="member">V_AH</ref>)[::-1]).translate(maketrans(</highlight><highlight class="stringliteral">&apos;01&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;<sp/>o&apos;</highlight><highlight class="normal">))+</highlight></codeline>
<codeline lineno="1100"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;\n\tS:<sp/><sp/>%r&apos;</highlight><highlight class="normal"><sp/>%<sp/>(</highlight><highlight class="stringliteral">&apos;<sp/><sp/>{0:24b}&apos;</highlight><highlight class="normal">.format(self.<ref refid="classdb__layer_1_1_user_1a612925ca4a2496400fcdd7b6634ff812" kindref="member">S_AH</ref>)[::-1]).translate(maketrans(</highlight><highlight class="stringliteral">&apos;01&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;<sp/>o&apos;</highlight><highlight class="normal">))+</highlight></codeline>
<codeline lineno="1101"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;\n\tD:<sp/><sp/>%r&apos;</highlight><highlight class="normal"><sp/>%<sp/>(</highlight><highlight class="stringliteral">&apos;<sp/><sp/>{0:24b}&apos;</highlight><highlight class="normal">.format(self.<ref refid="classdb__layer_1_1_user_1a59e61bc39bfe07f6d3b4dfd06fa95262" kindref="member">D_AH</ref>)[::-1]).translate(maketrans(</highlight><highlight class="stringliteral">&apos;01&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;<sp/>o&apos;</highlight><highlight class="normal">))+</highlight></codeline>
<codeline lineno="1102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;\n&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1103"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1104"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(</highlight><highlight class="stringliteral">&apos;User(%r,%r,%r,%r,%r)&apos;</highlight><highlight class="normal"><sp/>%<sp/>(self.<ref refid="classdb__layer_1_1_user_1aaf892db2c6e38a461364db0e751b9f63" kindref="member">uid</ref>,self.<ref refid="classdb__layer_1_1_user_1a096c898547257a09c296dd25a6625ff0" kindref="member">username</ref>,self.<ref refid="classdb__layer_1_1_user_1ae4e4cc108d1b9fcb54c93f28d8c04cce" kindref="member">rol</ref>,self.<ref refid="classdb__layer_1_1_user_1ae6293d034b011b8ff8c7c0d77d914ab6" kindref="member">password</ref>,self.<ref refid="classdb__layer_1_1_user_1af10568688235c01f6244aebc285192a7" kindref="member">description</ref>)<sp/>+</highlight></codeline>
<codeline lineno="1105"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;\n\t<sp/><sp/><sp/><sp/>%s&apos;</highlight><highlight class="normal"><sp/>%<sp/>(</highlight><highlight class="stringliteral">&apos;<sp/>0<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>1<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>2<sp/><sp/><sp/>&apos;</highlight><highlight class="normal">)<sp/>+</highlight></codeline>
<codeline lineno="1106"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;\n\t<sp/><sp/><sp/><sp/>%s&apos;</highlight><highlight class="normal"><sp/>%<sp/>(</highlight><highlight class="stringliteral">&apos;<sp/>012345678901234567890123&apos;</highlight><highlight class="normal">)<sp/>+</highlight></codeline>
<codeline lineno="1107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;\n\t<sp/><sp/><sp/><sp/>%s&apos;</highlight><highlight class="normal"><sp/>%<sp/>(</highlight><highlight class="stringliteral">&apos;<sp/>========================&apos;</highlight><highlight class="normal">)<sp/>+</highlight></codeline>
<codeline lineno="1108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;\n\tL:<sp/><sp/>%r&apos;</highlight><highlight class="normal"><sp/>%<sp/>(</highlight><highlight class="stringliteral">&apos;<sp/><sp/>{0:24b}&apos;</highlight><highlight class="normal">.format(self.<ref refid="classdb__layer_1_1_user_1a3746b030cfe8c68de00434e7f7aa55e8" kindref="member">L_AH</ref>)[::-1]).translate(str.maketrans(</highlight><highlight class="stringliteral">&apos;01&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;<sp/>o&apos;</highlight><highlight class="normal">))+</highlight></codeline>
<codeline lineno="1109"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;\n\tM:<sp/><sp/>%r&apos;</highlight><highlight class="normal"><sp/>%<sp/>(</highlight><highlight class="stringliteral">&apos;<sp/><sp/>{0:24b}&apos;</highlight><highlight class="normal">.format(self.<ref refid="classdb__layer_1_1_user_1aca612c160e61b610ecb37dd55b83f528" kindref="member">M_AH</ref>)[::-1]).translate(str.maketrans(</highlight><highlight class="stringliteral">&apos;01&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;<sp/>o&apos;</highlight><highlight class="normal">))+</highlight></codeline>
<codeline lineno="1110"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;\n\tX:<sp/><sp/>%r&apos;</highlight><highlight class="normal"><sp/>%<sp/>(</highlight><highlight class="stringliteral">&apos;<sp/><sp/>{0:24b}&apos;</highlight><highlight class="normal">.format(self.<ref refid="classdb__layer_1_1_user_1ada11ed7b535bdb0eb30e2e48c0cd5e8a" kindref="member">X_AH</ref>)[::-1]).translate(str.maketrans(</highlight><highlight class="stringliteral">&apos;01&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;<sp/>o&apos;</highlight><highlight class="normal">))+</highlight></codeline>
<codeline lineno="1111"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;\n\tJ:<sp/><sp/>%r&apos;</highlight><highlight class="normal"><sp/>%<sp/>(</highlight><highlight class="stringliteral">&apos;<sp/><sp/>{0:24b}&apos;</highlight><highlight class="normal">.format(self.<ref refid="classdb__layer_1_1_user_1ad76a60aa40532d858fc7c47cc8ccfc6d" kindref="member">J_AH</ref>)[::-1]).translate(str.maketrans(</highlight><highlight class="stringliteral">&apos;01&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;<sp/>o&apos;</highlight><highlight class="normal">))+</highlight></codeline>
<codeline lineno="1112"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;\n\tV:<sp/><sp/>%r&apos;</highlight><highlight class="normal"><sp/>%<sp/>(</highlight><highlight class="stringliteral">&apos;<sp/><sp/>{0:24b}&apos;</highlight><highlight class="normal">.format(self.<ref refid="classdb__layer_1_1_user_1a52dcce70c5f6169a4edec3033868281c" kindref="member">V_AH</ref>)[::-1]).translate(str.maketrans(</highlight><highlight class="stringliteral">&apos;01&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;<sp/>o&apos;</highlight><highlight class="normal">))+</highlight></codeline>
<codeline lineno="1113"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;\n\tS:<sp/><sp/>%r&apos;</highlight><highlight class="normal"><sp/>%<sp/>(</highlight><highlight class="stringliteral">&apos;<sp/><sp/>{0:24b}&apos;</highlight><highlight class="normal">.format(self.<ref refid="classdb__layer_1_1_user_1a612925ca4a2496400fcdd7b6634ff812" kindref="member">S_AH</ref>)[::-1]).translate(str.maketrans(</highlight><highlight class="stringliteral">&apos;01&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;<sp/>o&apos;</highlight><highlight class="normal">))+</highlight></codeline>
<codeline lineno="1114"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;\n\tD:<sp/><sp/>%r&apos;</highlight><highlight class="normal"><sp/>%<sp/>(</highlight><highlight class="stringliteral">&apos;<sp/><sp/>{0:24b}&apos;</highlight><highlight class="normal">.format(self.<ref refid="classdb__layer_1_1_user_1a59e61bc39bfe07f6d3b4dfd06fa95262" kindref="member">D_AH</ref>)[::-1]).translate(str.maketrans(</highlight><highlight class="stringliteral">&apos;01&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;<sp/>o&apos;</highlight><highlight class="normal">))+</highlight></codeline>
<codeline lineno="1115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;\n&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1116"><highlight class="normal"></highlight></codeline>
<codeline lineno="1117" refid="classdb__layer_1_1_group" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_group" kindref="compound">Group</ref>(<ref refid="namespacedb__layer_1abf9d884063baa5841f513855cff66c26" kindref="member">Base</ref>):</highlight></codeline>
<codeline lineno="1118"><highlight class="normal"><sp/><sp/><sp/><sp/>__tablename__<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;GRUPO&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1119" refid="classdb__layer_1_1_group_1ad04297ad13e077524983def6a0af935b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>gid<sp/>=<sp/>Column(Integer,<sp/>primary_key=</highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/>autoincrement=</highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/>unique=</highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/>index=</highlight><highlight class="keyword">True</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1120" refid="classdb__layer_1_1_group_1adc9753e87b2f964d8f97215cd689ad16" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>groupname<sp/>=<sp/>Column(String(20),<sp/>nullable=</highlight><highlight class="keyword">False</highlight><highlight class="normal">,<sp/>unique=</highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/>index=</highlight><highlight class="keyword">True</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1121" refid="classdb__layer_1_1_group_1a00befb85344be6b17805cd048b2b1d6d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>description<sp/>=<sp/>Column(String(80),<sp/>nullable=</highlight><highlight class="keyword">False</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1122"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#_grupos<sp/>=<sp/>relationship(&quot;Groups&quot;,<sp/>backref=&quot;GRUPO&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1123"><highlight class="normal"></highlight></codeline>
<codeline lineno="1124" refid="classdb__layer_1_1_group_1a004ab9d415246c36f039e1afb2564927" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_group_1a004ab9d415246c36f039e1afb2564927" kindref="member">stringColumns</ref>(self):</highlight></codeline>
<codeline lineno="1125"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[</highlight><highlight class="stringliteral">&apos;groupname&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;description&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="1126"><highlight class="normal"></highlight></codeline>
<codeline lineno="1127" refid="classdb__layer_1_1_group_1aac09676e343d6fde6b9168b78612f60c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_group_1aac09676e343d6fde6b9168b78612f60c" kindref="member">intColumns</ref>(self):</highlight></codeline>
<codeline lineno="1128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[</highlight><highlight class="stringliteral">&apos;gid&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="1129"><highlight class="normal"></highlight></codeline>
<codeline lineno="1130" refid="classdb__layer_1_1_group_1a9a3107391f24a653186fc349940c1370" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_group_1a9a3107391f24a653186fc349940c1370" kindref="member">fromdict</ref>(self,<sp/>dict_data):</highlight></codeline>
<codeline lineno="1131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#dict_data<sp/>=<sp/>json.loads(jsondata)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1132" refid="classdb__layer_1_1_group_1a552e384a20b221ca4638a4b4657e5dcd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_group_1ad04297ad13e077524983def6a0af935b" kindref="member">gid</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;gid&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="1133" refid="classdb__layer_1_1_group_1a564387ddb516e801f8f0ab0ec0537d5c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_group_1adc9753e87b2f964d8f97215cd689ad16" kindref="member">groupname</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;groupname&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1134" refid="classdb__layer_1_1_group_1a35bd06719f741837e5dda249b6d87de5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_group_1a00befb85344be6b17805cd048b2b1d6d" kindref="member">description</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;description&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1135"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="1136"><highlight class="normal"></highlight></codeline>
<codeline lineno="1137" refid="classdb__layer_1_1_group_1a1c492e33e84e5d601f33b719ab55fc87" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_group_1a1c492e33e84e5d601f33b719ab55fc87" kindref="member">fromjson</ref>(self,<sp/>jsondata):</highlight></codeline>
<codeline lineno="1138"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dict_data<sp/>=<sp/>json.loads(jsondata)</highlight></codeline>
<codeline lineno="1139"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_group_1ad04297ad13e077524983def6a0af935b" kindref="member">gid</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;gid&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="1140"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_group_1adc9753e87b2f964d8f97215cd689ad16" kindref="member">groupname</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;groupname&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1141"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_group_1a00befb85344be6b17805cd048b2b1d6d" kindref="member">description</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;description&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1142"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="1143"><highlight class="normal"></highlight></codeline>
<codeline lineno="1144" refid="classdb__layer_1_1_group_1aef6cf965b5d044fd05881fb31dd8aed6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_group_1aef6cf965b5d044fd05881fb31dd8aed6" kindref="member">__repr__</ref>(self):</highlight></codeline>
<codeline lineno="1145"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;{\n\t&quot;gid&quot;:<sp/>%r,\n\t&quot;groupname&quot;:<sp/>&quot;%s&quot;,\n\t&quot;description&quot;:<sp/>&quot;%s&quot;\n}\n&apos;</highlight><highlight class="normal"><sp/>%<sp/>(self.<ref refid="classdb__layer_1_1_group_1ad04297ad13e077524983def6a0af935b" kindref="member">gid</ref>,<sp/>self.<ref refid="classdb__layer_1_1_group_1adc9753e87b2f964d8f97215cd689ad16" kindref="member">groupname</ref>,<sp/>self.<ref refid="classdb__layer_1_1_group_1a00befb85344be6b17805cd048b2b1d6d" kindref="member">description</ref>)</highlight></codeline>
<codeline lineno="1146"><highlight class="normal"></highlight></codeline>
<codeline lineno="1147" refid="classdb__layer_1_1_group_1a3aeaee5af2612241745f52de063bee7f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_group_1a3aeaee5af2612241745f52de063bee7f" kindref="member">__toSring__</ref>(self):</highlight></codeline>
<codeline lineno="1148"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;Group(%r,%r,%r)&quot;</highlight><highlight class="normal"><sp/>%<sp/>(self.<ref refid="classdb__layer_1_1_group_1ad04297ad13e077524983def6a0af935b" kindref="member">gid</ref>,<sp/>self.<ref refid="classdb__layer_1_1_group_1adc9753e87b2f964d8f97215cd689ad16" kindref="member">groupname</ref>,<sp/>self.<ref refid="classdb__layer_1_1_group_1a00befb85344be6b17805cd048b2b1d6d" kindref="member">description</ref>)</highlight></codeline>
<codeline lineno="1149"><highlight class="normal"></highlight></codeline>
<codeline lineno="1150"><highlight class="normal"></highlight></codeline>
<codeline lineno="1151"><highlight class="normal"></highlight></codeline>
<codeline lineno="1152" refid="classdb__layer_1_1_u_r_i_s" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_u_r_i_s" kindref="compound">URIS</ref>(<ref refid="namespacedb__layer_1abf9d884063baa5841f513855cff66c26" kindref="member">Base</ref>):</highlight></codeline>
<codeline lineno="1153"><highlight class="normal"><sp/><sp/><sp/><sp/>__tablename__<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;URIS&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1154" refid="classdb__layer_1_1_u_r_i_s_1a6120a757a93cee58b3edbd0a21c53ea1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>uriid<sp/>=<sp/>Column(Integer,<sp/>primary_key=</highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/>autoincrement=</highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/>index=</highlight><highlight class="keyword">True</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1155" refid="classdb__layer_1_1_u_r_i_s_1a1d76417de9c74a2a88a926ba6cd972ba" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>gid<sp/>=<sp/>Column(Integer,<sp/>ForeignKey(</highlight><highlight class="stringliteral">&apos;GRUPO.gid&apos;</highlight><highlight class="normal">),<sp/>nullable=</highlight><highlight class="keyword">False</highlight><highlight class="normal">,<sp/>primary_key=</highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/>index=</highlight><highlight class="keyword">True</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1156" refid="classdb__layer_1_1_u_r_i_s_1adb880c6700b90a1413c072e1897fb5ba" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>uri<sp/>=<sp/>Column(String(250),<sp/>nullable=</highlight><highlight class="keyword">False</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1157"><highlight class="normal"></highlight></codeline>
<codeline lineno="1158"><highlight class="normal"></highlight></codeline>
<codeline lineno="1159" refid="classdb__layer_1_1_u_r_i_s_1abd12457dcfb2a81a6b788e10f30ca8a9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_u_r_i_s_1abd12457dcfb2a81a6b788e10f30ca8a9" kindref="member">stringColumns</ref>(self):</highlight></codeline>
<codeline lineno="1160"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[</highlight><highlight class="stringliteral">&apos;uri&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="1161"><highlight class="normal"></highlight></codeline>
<codeline lineno="1162" refid="classdb__layer_1_1_u_r_i_s_1ae3a356f32006d48e4785f627ba7debb0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_u_r_i_s_1ae3a356f32006d48e4785f627ba7debb0" kindref="member">intColumns</ref>(self):</highlight></codeline>
<codeline lineno="1163"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[</highlight><highlight class="stringliteral">&apos;uriid&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;gid&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="1164"><highlight class="normal"></highlight></codeline>
<codeline lineno="1165" refid="classdb__layer_1_1_u_r_i_s_1a6f10547450f029464c78dcf18ade87cc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_u_r_i_s_1a6f10547450f029464c78dcf18ade87cc" kindref="member">fromdict</ref>(self,<sp/>jsondata):</highlight></codeline>
<codeline lineno="1166" refid="classdb__layer_1_1_u_r_i_s_1a28e0597e0d662150c83be1617ed84fb1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_u_r_i_s_1a6120a757a93cee58b3edbd0a21c53ea1" kindref="member">uriid</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;uriid&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="1167" refid="classdb__layer_1_1_u_r_i_s_1a264e2e0758357d18359f92380e8249dc" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_u_r_i_s_1a1d76417de9c74a2a88a926ba6cd972ba" kindref="member">gid</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;gid&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="1168" refid="classdb__layer_1_1_u_r_i_s_1a96adfe69ce986533f348b9534bd56ba1" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_u_r_i_s_1adb880c6700b90a1413c072e1897fb5ba" kindref="member">uri</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;uri&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="1170"><highlight class="normal"></highlight></codeline>
<codeline lineno="1171" refid="classdb__layer_1_1_u_r_i_s_1a1742d3502f4701bb2ebeb4b0ccbfcf6c" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_u_r_i_s_1a1742d3502f4701bb2ebeb4b0ccbfcf6c" kindref="member">fromjson</ref>(self,<sp/>jsondata):</highlight></codeline>
<codeline lineno="1172"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dict_data<sp/>=<sp/>json.loads(jsondata)</highlight></codeline>
<codeline lineno="1173"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_u_r_i_s_1a6120a757a93cee58b3edbd0a21c53ea1" kindref="member">uriid</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;uriid&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="1174"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_u_r_i_s_1a1d76417de9c74a2a88a926ba6cd972ba" kindref="member">gid</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;gid&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="1175"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_u_r_i_s_1adb880c6700b90a1413c072e1897fb5ba" kindref="member">uri</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;uri&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1176"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="1177"><highlight class="normal"></highlight></codeline>
<codeline lineno="1178" refid="classdb__layer_1_1_u_r_i_s_1a89b84b0303d692308a6c2eac9a17a5a9" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_u_r_i_s_1a89b84b0303d692308a6c2eac9a17a5a9" kindref="member">__repr__</ref>(self):</highlight></codeline>
<codeline lineno="1179"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;{\n\t&quot;uriid&quot;:<sp/>%r,\n\t&quot;gid&quot;:<sp/>%r,\n\t&quot;uri&quot;:<sp/>&quot;%s&quot;\n}\n&apos;</highlight><highlight class="normal"><sp/>%<sp/>(self.<ref refid="classdb__layer_1_1_u_r_i_s_1a6120a757a93cee58b3edbd0a21c53ea1" kindref="member">uriid</ref>,<sp/>self.<ref refid="classdb__layer_1_1_u_r_i_s_1a1d76417de9c74a2a88a926ba6cd972ba" kindref="member">gid</ref>,<sp/>self.<ref refid="classdb__layer_1_1_u_r_i_s_1adb880c6700b90a1413c072e1897fb5ba" kindref="member">uri</ref>)</highlight></codeline>
<codeline lineno="1180"><highlight class="normal"></highlight></codeline>
<codeline lineno="1181" refid="classdb__layer_1_1_u_r_i_s_1ae1fb1b6feeed82040621396a68ab9fc6" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_u_r_i_s_1ae1fb1b6feeed82040621396a68ab9fc6" kindref="member">__toString__</ref>(self):</highlight></codeline>
<codeline lineno="1182"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;URIS(%r,%r,%r)&quot;</highlight><highlight class="normal"><sp/>%<sp/>(self.<ref refid="classdb__layer_1_1_u_r_i_s_1a6120a757a93cee58b3edbd0a21c53ea1" kindref="member">uriid</ref>,<sp/>self.<ref refid="classdb__layer_1_1_u_r_i_s_1a1d76417de9c74a2a88a926ba6cd972ba" kindref="member">gid</ref>,<sp/>self.<ref refid="classdb__layer_1_1_u_r_i_s_1adb880c6700b90a1413c072e1897fb5ba" kindref="member">uri</ref>)</highlight></codeline>
<codeline lineno="1183"><highlight class="normal"></highlight></codeline>
<codeline lineno="1184"><highlight class="normal"></highlight></codeline>
<codeline lineno="1185"><highlight class="normal"></highlight></codeline>
<codeline lineno="1186" refid="classdb__layer_1_1_w_o_r_d_s" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_w_o_r_d_s" kindref="compound">WORDS</ref>(<ref refid="namespacedb__layer_1abf9d884063baa5841f513855cff66c26" kindref="member">Base</ref>):</highlight></codeline>
<codeline lineno="1187"><highlight class="normal"><sp/><sp/><sp/><sp/>__tablename__<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;WORDS&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1188" refid="classdb__layer_1_1_w_o_r_d_s_1a191b73a99b2cb5624d7b6561ffba1707" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>wordsid<sp/>=<sp/>Column(Integer,<sp/>primary_key=</highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/>autoincrement=</highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/>index=</highlight><highlight class="keyword">True</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1189" refid="classdb__layer_1_1_w_o_r_d_s_1ab34399fc663ae9bb749e3bf378e93dc2" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>gid<sp/>=<sp/>Column(Integer,<sp/>ForeignKey(</highlight><highlight class="stringliteral">&apos;GRUPO.gid&apos;</highlight><highlight class="normal">),<sp/>nullable=</highlight><highlight class="keyword">False</highlight><highlight class="normal">,<sp/>primary_key=</highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/>index=</highlight><highlight class="keyword">True</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1190" refid="classdb__layer_1_1_w_o_r_d_s_1adb8240c0cbbcc83b04e6ab5f925d5094" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>words<sp/>=<sp/>Column(String(250),<sp/>nullable=</highlight><highlight class="keyword">False</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1191"><highlight class="normal"></highlight></codeline>
<codeline lineno="1192" refid="classdb__layer_1_1_w_o_r_d_s_1a44a84767009d0a95cc0ca80efdc71c37" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_w_o_r_d_s_1a44a84767009d0a95cc0ca80efdc71c37" kindref="member">stringColumns</ref>(self):</highlight></codeline>
<codeline lineno="1193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[</highlight><highlight class="stringliteral">&apos;words&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="1194"><highlight class="normal"></highlight></codeline>
<codeline lineno="1195" refid="classdb__layer_1_1_w_o_r_d_s_1a46f9d04470b34a3b57de671c98e1313d" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_w_o_r_d_s_1a46f9d04470b34a3b57de671c98e1313d" kindref="member">intColumns</ref>(self):</highlight></codeline>
<codeline lineno="1196"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[</highlight><highlight class="stringliteral">&apos;wordsid&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;gid&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="1197"><highlight class="normal"></highlight></codeline>
<codeline lineno="1198" refid="classdb__layer_1_1_w_o_r_d_s_1a089dc3e33bb3caf90a6b564237793335" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_w_o_r_d_s_1a089dc3e33bb3caf90a6b564237793335" kindref="member">fromdict</ref>(self,<sp/>jsondata):</highlight></codeline>
<codeline lineno="1199" refid="classdb__layer_1_1_w_o_r_d_s_1ae7014f70bc77af166f3649f0bd3c3c71" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_w_o_r_d_s_1a191b73a99b2cb5624d7b6561ffba1707" kindref="member">wordsid</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;wordsid&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="1200" refid="classdb__layer_1_1_w_o_r_d_s_1aaaf779b2b8be0b8fc5b07d67ee8a7ecf" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_w_o_r_d_s_1ab34399fc663ae9bb749e3bf378e93dc2" kindref="member">gid</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;gid&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="1201" refid="classdb__layer_1_1_w_o_r_d_s_1a71c7bf353b1aebe3e39014792589f31b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_w_o_r_d_s_1adb8240c0cbbcc83b04e6ab5f925d5094" kindref="member">words</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;words&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1202"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="1203"><highlight class="normal"></highlight></codeline>
<codeline lineno="1204" refid="classdb__layer_1_1_w_o_r_d_s_1ab1557ec56523b2be35708beb8c09f2f5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_w_o_r_d_s_1ab1557ec56523b2be35708beb8c09f2f5" kindref="member">fromjson</ref>(self,<sp/>jsondata):</highlight></codeline>
<codeline lineno="1205"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dict_data<sp/>=<sp/>json.loads(jsondata)</highlight></codeline>
<codeline lineno="1206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_w_o_r_d_s_1a191b73a99b2cb5624d7b6561ffba1707" kindref="member">wordsid</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;wordsid&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="1207"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_w_o_r_d_s_1ab34399fc663ae9bb749e3bf378e93dc2" kindref="member">gid</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;gid&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="1208"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_w_o_r_d_s_1adb8240c0cbbcc83b04e6ab5f925d5094" kindref="member">words</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;words&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1209"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="1210"><highlight class="normal"></highlight></codeline>
<codeline lineno="1211" refid="classdb__layer_1_1_w_o_r_d_s_1a963538e546aa97f139237d0152cb0170" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_w_o_r_d_s_1a963538e546aa97f139237d0152cb0170" kindref="member">__repr__</ref>(self):</highlight></codeline>
<codeline lineno="1212"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;{\n\t&quot;wordsid&quot;:<sp/>%r,\n\t&quot;gid&quot;:<sp/>%r,\n\t&quot;words&quot;:<sp/>&quot;%s&quot;\n}\n&apos;</highlight><highlight class="normal"><sp/>%<sp/>(self.<ref refid="classdb__layer_1_1_w_o_r_d_s_1a191b73a99b2cb5624d7b6561ffba1707" kindref="member">wordsid</ref>,<sp/>self.<ref refid="classdb__layer_1_1_w_o_r_d_s_1ab34399fc663ae9bb749e3bf378e93dc2" kindref="member">gid</ref>,<sp/>self.<ref refid="classdb__layer_1_1_w_o_r_d_s_1adb8240c0cbbcc83b04e6ab5f925d5094" kindref="member">words</ref>)</highlight></codeline>
<codeline lineno="1213"><highlight class="normal"></highlight></codeline>
<codeline lineno="1214"><highlight class="normal"></highlight></codeline>
<codeline lineno="1215" refid="classdb__layer_1_1_w_o_r_d_s_1a741add95506ad7ec7d13f88fdd4a86bd" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_w_o_r_d_s_1a741add95506ad7ec7d13f88fdd4a86bd" kindref="member">__toString__</ref>(self):</highlight></codeline>
<codeline lineno="1216"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;WORDS(%r,%r,%r)&quot;</highlight><highlight class="normal"><sp/>%<sp/>(self.<ref refid="classdb__layer_1_1_w_o_r_d_s_1a191b73a99b2cb5624d7b6561ffba1707" kindref="member">wordsid</ref>,<sp/>self.<ref refid="classdb__layer_1_1_w_o_r_d_s_1ab34399fc663ae9bb749e3bf378e93dc2" kindref="member">gid</ref>,<sp/>self.<ref refid="classdb__layer_1_1_w_o_r_d_s_1adb8240c0cbbcc83b04e6ab5f925d5094" kindref="member">words</ref>)</highlight></codeline>
<codeline lineno="1217"><highlight class="normal"></highlight></codeline>
<codeline lineno="1218" refid="classdb__layer_1_1_m_i_m_e_s" refkind="compound"><highlight class="normal"></highlight><highlight class="keyword">class<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_m_i_m_e_s" kindref="compound">MIMES</ref>(<ref refid="namespacedb__layer_1abf9d884063baa5841f513855cff66c26" kindref="member">Base</ref>):</highlight></codeline>
<codeline lineno="1219"><highlight class="normal"><sp/><sp/><sp/><sp/>__tablename__<sp/>=<sp/></highlight><highlight class="stringliteral">&apos;MIMES&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1220" refid="classdb__layer_1_1_m_i_m_e_s_1a66872c780c00042cd689fd6b0d2028df" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>mimeid<sp/>=<sp/>Column(Integer,<sp/>primary_key=</highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/>autoincrement=</highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/>index=</highlight><highlight class="keyword">True</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1221" refid="classdb__layer_1_1_m_i_m_e_s_1a3ce87f789dd363c1a497bf44144ef051" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>gid<sp/>=<sp/>Column(Integer,<sp/>ForeignKey(</highlight><highlight class="stringliteral">&apos;GRUPO.gid&apos;</highlight><highlight class="normal">),<sp/>nullable=</highlight><highlight class="keyword">False</highlight><highlight class="normal">,<sp/>primary_key=</highlight><highlight class="keyword">True</highlight><highlight class="normal">,<sp/>index=</highlight><highlight class="keyword">True</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1222" refid="classdb__layer_1_1_m_i_m_e_s_1a0161e97244015d5d5828ef162f621897" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>mimes<sp/>=<sp/>Column(String(250),<sp/>nullable=</highlight><highlight class="keyword">False</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1223"><highlight class="normal"></highlight></codeline>
<codeline lineno="1224" refid="classdb__layer_1_1_m_i_m_e_s_1a507d01e47453b187461ccf737326e8de" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_m_i_m_e_s_1a507d01e47453b187461ccf737326e8de" kindref="member">stringColumns</ref>(self):</highlight></codeline>
<codeline lineno="1225"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[</highlight><highlight class="stringliteral">&apos;mimes&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="1226"><highlight class="normal"></highlight></codeline>
<codeline lineno="1227" refid="classdb__layer_1_1_m_i_m_e_s_1a790fe339535f598d08ef553311075518" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_m_i_m_e_s_1a790fe339535f598d08ef553311075518" kindref="member">intColumns</ref>(self):</highlight></codeline>
<codeline lineno="1228"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>[</highlight><highlight class="stringliteral">&apos;mimeid&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;gid&apos;</highlight><highlight class="normal">]</highlight></codeline>
<codeline lineno="1229"><highlight class="normal"></highlight></codeline>
<codeline lineno="1230" refid="classdb__layer_1_1_m_i_m_e_s_1a08eafc4a1c69df96fa32d4f1c65cb04f" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_m_i_m_e_s_1a08eafc4a1c69df96fa32d4f1c65cb04f" kindref="member">fromdict</ref>(self,<sp/>jsondata):</highlight></codeline>
<codeline lineno="1231" refid="classdb__layer_1_1_m_i_m_e_s_1a5dd5df331308d3e58b82811885724468" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_m_i_m_e_s_1a5dd5df331308d3e58b82811885724468" kindref="member">wordsid</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;mimeid&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="1232" refid="classdb__layer_1_1_m_i_m_e_s_1a66f384fb971ec6f4d83f511e3fca7b7b" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_m_i_m_e_s_1a3ce87f789dd363c1a497bf44144ef051" kindref="member">gid</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;gid&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="1233" refid="classdb__layer_1_1_m_i_m_e_s_1a636fc98e28fedf6a5eb57058e2d402d8" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_m_i_m_e_s_1a636fc98e28fedf6a5eb57058e2d402d8" kindref="member">words</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;mimes&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1234"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="1235"><highlight class="normal"></highlight></codeline>
<codeline lineno="1236" refid="classdb__layer_1_1_m_i_m_e_s_1a4ec1674ef68ad1844d2afe45259bdc89" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_m_i_m_e_s_1a4ec1674ef68ad1844d2afe45259bdc89" kindref="member">fromjson</ref>(self,<sp/>jsondata):</highlight></codeline>
<codeline lineno="1237"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dict_data<sp/>=<sp/>json.loads(jsondata)</highlight></codeline>
<codeline lineno="1238"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_m_i_m_e_s_1a5dd5df331308d3e58b82811885724468" kindref="member">wordsid</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;mimeid&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="1239"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_m_i_m_e_s_1a3ce87f789dd363c1a497bf44144ef051" kindref="member">gid</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;gid&apos;</highlight><highlight class="normal">,<sp/>0)</highlight></codeline>
<codeline lineno="1240"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>self.<ref refid="classdb__layer_1_1_m_i_m_e_s_1a636fc98e28fedf6a5eb57058e2d402d8" kindref="member">words</ref><sp/>=<sp/>dict_data.get(</highlight><highlight class="stringliteral">&apos;mimes&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1241"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>self</highlight></codeline>
<codeline lineno="1242"><highlight class="normal"></highlight></codeline>
<codeline lineno="1243" refid="classdb__layer_1_1_m_i_m_e_s_1a76e9016c987bbe373eeb0416a35a4e51" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_m_i_m_e_s_1a76e9016c987bbe373eeb0416a35a4e51" kindref="member">__repr__</ref>(self):</highlight></codeline>
<codeline lineno="1244"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&apos;{\n\t&quot;mimeid&quot;:<sp/>%r,\n\t&quot;gid&quot;:<sp/>%r,\n\t&quot;mimes&quot;:<sp/>&quot;%s&quot;\n}\n&apos;</highlight><highlight class="normal"><sp/>%<sp/>(self.<ref refid="classdb__layer_1_1_m_i_m_e_s_1a66872c780c00042cd689fd6b0d2028df" kindref="member">mimeid</ref>,<sp/>self.<ref refid="classdb__layer_1_1_m_i_m_e_s_1a3ce87f789dd363c1a497bf44144ef051" kindref="member">gid</ref>,<sp/>self.<ref refid="classdb__layer_1_1_m_i_m_e_s_1a0161e97244015d5d5828ef162f621897" kindref="member">mimes</ref>)</highlight></codeline>
<codeline lineno="1245"><highlight class="normal"></highlight></codeline>
<codeline lineno="1246"><highlight class="normal"></highlight></codeline>
<codeline lineno="1247" refid="classdb__layer_1_1_m_i_m_e_s_1a4101e5315f081b7675139e1c5eaa7db0" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">def<sp/></highlight><highlight class="normal"><ref refid="classdb__layer_1_1_m_i_m_e_s_1a4101e5315f081b7675139e1c5eaa7db0" kindref="member">__toString__</ref>(self):</highlight></codeline>
<codeline lineno="1248"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;MIMES(%r,%r,%r)&quot;</highlight><highlight class="normal"><sp/>%<sp/>(self.<ref refid="classdb__layer_1_1_m_i_m_e_s_1a66872c780c00042cd689fd6b0d2028df" kindref="member">mimeid</ref>,<sp/>self.<ref refid="classdb__layer_1_1_m_i_m_e_s_1a3ce87f789dd363c1a497bf44144ef051" kindref="member">gid</ref>,<sp/>self.<ref refid="classdb__layer_1_1_m_i_m_e_s_1a0161e97244015d5d5828ef162f621897" kindref="member">mimes</ref>)</highlight></codeline>
<codeline lineno="1249"><highlight class="normal"></highlight></codeline>
<codeline lineno="1250"><highlight class="normal"></highlight></codeline>
<codeline lineno="1251"><highlight class="normal"></highlight></codeline>
<codeline lineno="1252"><highlight class="normal"></highlight></codeline>
<codeline lineno="1253"><highlight class="normal"></highlight></codeline>
<codeline lineno="1254"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>__name__<sp/>==<sp/></highlight><highlight class="stringliteral">&quot;__main__&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="1255"><highlight class="normal"></highlight></codeline>
<codeline lineno="1256"><highlight class="normal"></highlight></codeline>
<codeline lineno="1257" refid="namespacedb__layer_1a566ad0b24ebd9510b8017f700f4540b5" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>db=<ref refid="classdb__layer_1_1_database" kindref="compound">Database</ref>()</highlight></codeline>
<codeline lineno="1258"><highlight class="normal"><sp/><sp/><sp/><sp/>TraceSQL<sp/>=<sp/></highlight><highlight class="keyword">True</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1259"><highlight class="normal"></highlight></codeline>
<codeline lineno="1260" refid="namespacedb__layer_1aa5866ade4f254a145901ec8647407bdb" refkind="member"><highlight class="normal"><sp/><sp/><sp/><sp/>rules<sp/>=<sp/>db.getRULES(</highlight><highlight class="stringliteral">&apos;MIME&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;kid1&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1261"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>rule<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>rules:</highlight></codeline>
<codeline lineno="1262"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(rule.__toString__())</highlight></codeline>
<codeline lineno="1263"><highlight class="normal"></highlight></codeline>
<codeline lineno="1264"><highlight class="normal"><sp/><sp/><sp/><sp/>rules<sp/>=<sp/>db.getRULES(</highlight><highlight class="stringliteral">&apos;URIS&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;kid1&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1265"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>rule<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>rules:</highlight></codeline>
<codeline lineno="1266"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(rule.__toString__())</highlight></codeline>
<codeline lineno="1267"><highlight class="normal"></highlight></codeline>
<codeline lineno="1268"><highlight class="normal"><sp/><sp/><sp/><sp/>rules<sp/>=<sp/>db.getRULES(</highlight><highlight class="stringliteral">&apos;WORD&apos;</highlight><highlight class="normal">,<sp/></highlight><highlight class="stringliteral">&apos;kid1&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="1269"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal"><sp/>rule<sp/></highlight><highlight class="keywordflow">in</highlight><highlight class="normal"><sp/>rules:</highlight></codeline>
<codeline lineno="1270"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(rule.__toString__())</highlight></codeline>
<codeline lineno="1271"><highlight class="normal"></highlight></codeline>
<codeline lineno="1272"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(rules)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1273"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(db.isAdminAllowed(&apos;pep1&apos;,<sp/>&apos;none1&apos;))</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1274"><highlight class="normal"></highlight></codeline>
<codeline lineno="1275"><highlight class="normal"></highlight></codeline>
<codeline lineno="1276"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="1277"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>db.insertURISbyGID(1,<sp/>&quot;\na\nb\nc\n\nd\n\n\n\n\nabcdfef\n<sp/>ieie,<sp/>\n&quot;)</highlight></codeline>
<codeline lineno="1278"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1279"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>db.insertURISbyGID(8,<sp/>&quot;\na\nb\nc\n\nd\n\n\n\n\nabcdfef\n<sp/>ieie,<sp/>\n&quot;)</highlight></codeline>
<codeline lineno="1280"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1281"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>db.insertMIMESbyGID(1,<sp/>&quot;application/x-shockwave-flash\napplication/atom+xml&quot;)</highlight></codeline>
<codeline lineno="1282"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1283"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="1284"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>a<sp/>=<sp/>db.findURISbyGID(1)</highlight></codeline>
<codeline lineno="1285"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(a)</highlight></codeline>
<codeline lineno="1286"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>b<sp/>=<sp/>db.findWORDSbyGID(1)</highlight></codeline>
<codeline lineno="1287"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(b)</highlight></codeline>
<codeline lineno="1288"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1289"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#db.addRelation(<sp/>1,<sp/>1026)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1290"><highlight class="normal"></highlight></codeline>
<codeline lineno="1291"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">#print(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;)</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1292"><highlight class="normal"></highlight></codeline>
<codeline lineno="1293"><highlight class="normal"></highlight></codeline>
<codeline lineno="1294"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="1295"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>theUser<sp/>=<sp/>db.findUserByUID(1)</highlight></codeline>
<codeline lineno="1296"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1297"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(<sp/>theUser<sp/>)</highlight></codeline>
<codeline lineno="1298"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>#print(db.findUserByUsername(&apos;pepe1&apos;))</highlight></codeline>
<codeline lineno="1299"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>mytestGroup=Group(groupname=&apos;josi&apos;,<sp/>description=&apos;Josi<sp/>User<sp/>&apos;)</highlight></codeline>
<codeline lineno="1300"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>storedGRP=db.addGroup(mytestGroup)</highlight></codeline>
<codeline lineno="1301"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1302"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>theMembership=<sp/>db.findGroupsByUser(&quot;aaaaa&quot;)</highlight></codeline>
<codeline lineno="1303"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(theMembership)</highlight></codeline>
<codeline lineno="1304"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1305"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(&quot;-----&quot;)</highlight></codeline>
<codeline lineno="1306"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1307"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>theNotMembership<sp/>=<sp/>db.findNotGroupsByUser(&quot;aaaaa&quot;)</highlight></codeline>
<codeline lineno="1308"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(theNotMembership)</highlight></codeline>
<codeline lineno="1309"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1310"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="1311"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ed_user<sp/>=<sp/>User(username=&apos;ed&apos;,<sp/>password=&apos;Ed<sp/>Jones&apos;,<sp/>description=&apos;ed&apos;)</highlight></codeline>
<codeline lineno="1312"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#db.session.add(ed_user)</highlight></codeline>
<codeline lineno="1313"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#db.session.commit()1</highlight></codeline>
<codeline lineno="1314"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1315"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1316"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>try:</highlight></codeline>
<codeline lineno="1317"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>db.session.add(ed_user)</highlight></codeline>
<codeline lineno="1318"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>db.session.commit()</highlight></codeline>
<codeline lineno="1319"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>except:</highlight></codeline>
<codeline lineno="1320"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>db.session.rollback()</highlight></codeline>
<codeline lineno="1321"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1322"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser=db.findUserByUsername(&apos;ed&apos;)</highlight></codeline>
<codeline lineno="1323"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(&quot;...1&quot;)</highlight></codeline>
<codeline lineno="1324"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(db.setUserAdmin(storedUser))</highlight></codeline>
<codeline lineno="1325"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(&quot;...2&quot;)</highlight></codeline>
<codeline lineno="1326"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#print(db.unsetUserAdmin(storedUser))</highlight></codeline>
<codeline lineno="1327"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser=db.findUserByUsername(&apos;ed&apos;)</highlight></codeline>
<codeline lineno="1328"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#storedUser.password=&apos;patata&apos;</highlight></codeline>
<codeline lineno="1329"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(&quot;...3&quot;)</highlight></codeline>
<codeline lineno="1330"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(db.changeUserPassword(storedUser))</highlight></codeline>
<codeline lineno="1331"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(&quot;...4&quot;)</highlight></codeline>
<codeline lineno="1332"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(&quot;...1&quot;)</highlight></codeline>
<codeline lineno="1333"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(db.setUserGuest(storedUser))</highlight></codeline>
<codeline lineno="1334"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#print(db.setUserGuest(storedUser))</highlight></codeline>
<codeline lineno="1335"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1336"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser.description=&apos;cambio<sp/>de<sp/>descripcion4&apos;</highlight></codeline>
<codeline lineno="1337"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser.L_AH<sp/>=<sp/>HOURS_MASK[&apos;H09_M&apos;]<sp/>|<sp/>HOURS_MASK[&apos;H07_M&apos;]<sp/>|<sp/>HOURS_MASK[&apos;H08_M&apos;]</highlight></codeline>
<codeline lineno="1338"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser.X_AH<sp/>=<sp/>__bitwise_not_hours(HOURS_MASK[&apos;NIG_M&apos;])<sp/>|<sp/>HOURS_MASK[&apos;H04_M&apos;]</highlight></codeline>
<codeline lineno="1339"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser.J_AH<sp/>=<sp/>HOURS_MASK[&apos;NON_M&apos;]<sp/>|<sp/>HOURS_MASK[&apos;H23_M&apos;]<sp/>|<sp/>HOURS_MASK[&apos;H01_M&apos;]<sp/>|<sp/>HOURS_MASK[&apos;H00_M&apos;]</highlight></codeline>
<codeline lineno="1340"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser.D_AH<sp/>=<sp/>HOURS_MASK[&apos;NON_M&apos;]<sp/>|<sp/>HOURS_MASK[&apos;H10_M&apos;]<sp/>|<sp/>HOURS_MASK[&apos;H01_M&apos;]<sp/>|<sp/>HOURS_MASK[&apos;H00_M&apos;]</highlight></codeline>
<codeline lineno="1341"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1342"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>#|<sp/>HOURS_MASK[&apos;H08_M&apos;]</highlight></codeline>
<codeline lineno="1343"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(&quot;...5&quot;)</highlight></codeline>
<codeline lineno="1344"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1345"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(db.changeUserDescription(storedUser))</highlight></codeline>
<codeline lineno="1346"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(&quot;...6&quot;)</highlight></codeline>
<codeline lineno="1347"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1348"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newGroup<sp/>=<sp/>Group(groupname=&apos;nuevo_grupo&apos;,<sp/>description=&apos;nuevo<sp/>grupo<sp/>de<sp/>prueba&apos;)</highlight></codeline>
<codeline lineno="1349"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(db.addGroup(newGroup))</highlight></codeline>
<codeline lineno="1350"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>newGroup.description=&apos;otra<sp/>descripcion&apos;</highlight></codeline>
<codeline lineno="1351"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(db.changeGroupDescription(newGroup))</highlight></codeline>
<codeline lineno="1352"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1353"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(db.isUserAllowedNow(&apos;ed&apos;))</highlight></codeline>
<codeline lineno="1354"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(db.setUserAdmin(storedUser))</highlight></codeline>
<codeline lineno="1355"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(db.setUserAdvanced(storedUser))</highlight></codeline>
<codeline lineno="1356"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(db.setUserKid(storedUser))</highlight></codeline>
<codeline lineno="1357"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(db.setUserGuest(storedUser))</highlight></codeline>
<codeline lineno="1358"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(db.isUserAdmin(&apos;ed&apos;))</highlight></codeline>
<codeline lineno="1359"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(db.isUserAdvanced(&apos;ed&apos;))</highlight></codeline>
<codeline lineno="1360"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(db.isUserKid(&apos;ed&apos;))</highlight></codeline>
<codeline lineno="1361"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(db.isUserGuest(&apos;ed&apos;))</highlight></codeline>
<codeline lineno="1362"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>storedUser.S_AH<sp/>=<sp/>HOURS_MASK[&apos;NON_M&apos;]<sp/>|<sp/>HOURS_MASK[&apos;H02_M&apos;]<sp/>|<sp/>HOURS_MASK[&apos;H01_M&apos;]<sp/>|<sp/>HOURS_MASK[&apos;H00_M&apos;]</highlight></codeline>
<codeline lineno="1363"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>db.commitDBChanges()</highlight></codeline>
<codeline lineno="1364"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1365"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="1366"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>mytestGroup=Group(groupname=&apos;josi&apos;,<sp/>description=&apos;Josi<sp/>User<sp/>&apos;)</highlight></codeline>
<codeline lineno="1367"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>storedGRP=db.addGroup(mytestGroup)</highlight></codeline>
<codeline lineno="1368"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(mytestGroup)</highlight></codeline>
<codeline lineno="1369"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(storedGRP)</highlight></codeline>
<codeline lineno="1370"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1371"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="1372"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>for<sp/>idx<sp/>in<sp/>range(4096):<sp/>#<sp/>esto<sp/>va<sp/>desde<sp/>0..MAXUSERS,<sp/>debiendo<sp/>fallar<sp/>en<sp/>el<sp/>numero<sp/>MAXUSERS</highlight></codeline>
<codeline lineno="1373"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mytestUsr=User(username=&apos;josi&apos;+str(idx),<sp/>password=&apos;password&apos;,<sp/>description=&apos;Josi<sp/>User<sp/>&apos;+str(idx))</highlight></codeline>
<codeline lineno="1374"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>result=db.addUser(mytestUsr)</highlight></codeline>
<codeline lineno="1375"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(result)</highlight></codeline>
<codeline lineno="1376"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1377"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>if<sp/>result<sp/>!=<sp/>None:</highlight></codeline>
<codeline lineno="1378"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(&quot;success<sp/>idx<sp/>&quot;+str(idx))<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(&quot;aborted&quot;)</highlight></codeline>
<codeline lineno="1379"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1380"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(mytestUsr)</highlight></codeline>
<codeline lineno="1381"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(result)</highlight></codeline>
<codeline lineno="1382"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1383"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="1384"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>for<sp/>instance<sp/>in<sp/>db.findUser(&quot;ep&quot;):</highlight></codeline>
<codeline lineno="1385"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(&quot;....%r&quot;<sp/>%<sp/>inUSERstance)</highlight></codeline>
<codeline lineno="1386"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1387"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>for<sp/>instance<sp/>in<sp/>db.findGroup(&quot;%e&quot;):</highlight></codeline>
<codeline lineno="1388"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(&quot;....%r&quot;<sp/>%<sp/>instance)</highlight></codeline>
<codeline lineno="1389"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(&quot;----&quot;)</highlight></codeline>
<codeline lineno="1390"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>for<sp/>instance<sp/>in<sp/>db.getAllUser():</highlight></codeline>
<codeline lineno="1391"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(&quot;....%r&quot;<sp/>%<sp/>instance)</highlight></codeline>
<codeline lineno="1392"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(&quot;----&quot;)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>USER</highlight></codeline>
<codeline lineno="1393"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>for<sp/>instance<sp/>in<sp/>db.getAllGroups():</highlight></codeline>
<codeline lineno="1394"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(&quot;....%r&quot;<sp/>%<sp/>instance)</highlight></codeline>
<codeline lineno="1395"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(&quot;----&quot;)</highlight></codeline>
<codeline lineno="1396"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1397"><highlight class="normal"></highlight></codeline>
<codeline lineno="1398"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="1399"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>for<sp/>instance<sp/>in<sp/>db.findUser(u&quot;ñ&quot;):</highlight></codeline>
<codeline lineno="1400"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(&quot;....%r&quot;<sp/>%<sp/>instance)</highlight></codeline>
<codeline lineno="1401"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1402"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>for<sp/>instance<sp/>in<sp/>db.findGroup(&quot;b&quot;):</highlight></codeline>
<codeline lineno="1403"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(&quot;....%r&quot;<sp/>%<sp/>instance)</highlight></codeline>
<codeline lineno="1404"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1405"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(&quot;-----&quot;)</highlight></codeline>
<codeline lineno="1406"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(db.findUserByUID(1))</highlight></codeline>
<codeline lineno="1407"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(db.findUserByUsername(&apos;ed&apos;))</highlight></codeline>
<codeline lineno="1408"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(&quot;-----&quot;)</highlight></codeline>
<codeline lineno="1409"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(db.findGroupByGID(8))</highlight></codeline>
<codeline lineno="1410"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(&quot;-----&quot;)</highlight></codeline>
<codeline lineno="1411"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(db.findGroupByGroupname(&apos;e&apos;))</highlight></codeline>
<codeline lineno="1412"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(db.getLowestUnusedUIDfromUsers())</highlight></codeline>
<codeline lineno="1413"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>otherUser<sp/>=<sp/>User(username=&apos;josi3&apos;,<sp/>password=&apos;password&apos;,<sp/>description=&apos;Josi<sp/>User&apos;)</highlight></codeline>
<codeline lineno="1414"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>result=db.addUser(otherUser)</highlight></codeline>
<codeline lineno="1415"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1416"><highlight class="normal"></highlight></codeline>
<codeline lineno="1417"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="stringliteral">&apos;&apos;&apos;</highlight></codeline>
<codeline lineno="1418"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>db2=Database()</highlight></codeline>
<codeline lineno="1419"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print<sp/>(User.__table__)</highlight></codeline>
<codeline lineno="1420"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1421"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(db)</highlight></codeline>
<codeline lineno="1422"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(db2)</highlight></codeline>
<codeline lineno="1423"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1424"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(db.session.query(User).count())</highlight></codeline>
<codeline lineno="1425"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>for<sp/>instance<sp/>in<sp/>db.session.query(User):</highlight></codeline>
<codeline lineno="1426"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(instance)</highlight></codeline>
<codeline lineno="1427"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1428"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1429"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1430"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>ed_user<sp/>=<sp/>User(username=&apos;ed&apos;,<sp/>password=&apos;Ed<sp/>Jones&apos;,<sp/>description=&apos;edspassword&apos;)</highlight></codeline>
<codeline lineno="1431"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>ed_group<sp/>=<sp/>Group(groupname=&apos;ed&apos;,<sp/>description=&apos;ed<sp/>group&apos;)</highlight></codeline>
<codeline lineno="1432"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1433"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>try:</highlight></codeline>
<codeline lineno="1434"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>db.session.add(ed_user)</highlight></codeline>
<codeline lineno="1435"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>db.session.commit()</highlight></codeline>
<codeline lineno="1436"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>except:</highlight></codeline>
<codeline lineno="1437"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>db.session.rollback()</highlight></codeline>
<codeline lineno="1438"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1439"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>try:</highlight></codeline>
<codeline lineno="1440"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>db.session.add(ed_group)</highlight></codeline>
<codeline lineno="1441"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>db.session.commit()</highlight></codeline>
<codeline lineno="1442"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>except:</highlight></codeline>
<codeline lineno="1443"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>db.session.rollback()</highlight></codeline>
<codeline lineno="1444"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(&apos;.---------------------&apos;)</highlight></codeline>
<codeline lineno="1445"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>find_user<sp/>=<sp/>db.session.query(User).filter(User.username==ed_user.username).first()</highlight></codeline>
<codeline lineno="1446"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print<sp/>(find_user)</highlight></codeline>
<codeline lineno="1447"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>find_group<sp/>=<sp/>db.session.query(Group).filter(Group.groupname==ed_group.groupname).first()</highlight></codeline>
<codeline lineno="1448"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>#filter(Address.person<sp/>==<sp/>person).all()</highlight></codeline>
<codeline lineno="1449"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(&apos;.---------------------&apos;)</highlight></codeline>
<codeline lineno="1450"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(find_user)</highlight></codeline>
<codeline lineno="1451"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(find_group)</highlight></codeline>
<codeline lineno="1452"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>membership=Groups(find_user,find_group)</highlight></codeline>
<codeline lineno="1453"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(&apos;X---------------------&apos;)</highlight></codeline>
<codeline lineno="1454"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(membership)</highlight></codeline>
<codeline lineno="1455"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(&apos;X---------------------&apos;)</highlight></codeline>
<codeline lineno="1456"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1457"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>try:</highlight></codeline>
<codeline lineno="1458"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>db.session.add(membership)</highlight></codeline>
<codeline lineno="1459"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>db.session.commit()</highlight></codeline>
<codeline lineno="1460"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>except:</highlight></codeline>
<codeline lineno="1461"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>db.session.rollback()</highlight></codeline>
<codeline lineno="1462"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1463"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>#for<sp/>instance<sp/>in<sp/>db.session.query(User).order_by(User.uid):</highlight></codeline>
<codeline lineno="1464"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>#<sp/><sp/><sp/><sp/>print(&quot;%r<sp/>%r&quot;<sp/>%<sp/>(instance.name,<sp/>instance.fullname))</highlight></codeline>
<codeline lineno="1465"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1466"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1467"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1468"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>print(db.session.query(User).order_by(User.uid))</highlight></codeline>
<codeline lineno="1469"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1470"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>for<sp/>instance<sp/>in<sp/>db2.session.query(User).join(Groups,<sp/>User.uid==Groups.uid):</highlight></codeline>
<codeline lineno="1471"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>#for<sp/>instance<sp/>in<sp/>db2.session.query(User).all():</highlight></codeline>
<codeline lineno="1472"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(instance)</highlight></codeline>
<codeline lineno="1473"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1474"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>for<sp/>instance<sp/>in<sp/>db.session.query(Groups).join(User).outerjoin(Group).add_entity(User).add_entity(Group):</highlight></codeline>
<codeline lineno="1475"><highlight class="stringliteral"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>print(instance)</highlight></codeline>
<codeline lineno="1476"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>#(Groups(1,1),<sp/>User(1,&apos;ed&apos;,&apos;Ed<sp/>Jones&apos;,&apos;edspassword&apos;),<sp/>Group(1,&apos;ed&apos;,&apos;ed&apos;,&apos;ed<sp/>group&apos;))</highlight></codeline>
<codeline lineno="1477"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>#(Groups(1,3),<sp/>INSERT<sp/>INTO<sp/>&quot;GROUP&quot;<sp/>VALUES(33,&apos;e&apos;,&apos;e&apos;);User(1,&apos;ed&apos;,&apos;Ed<sp/>Jones&apos;,&apos;edspassword&apos;),<sp/>Group(3,&apos;b&apos;,&apos;b&apos;,&apos;b&apos;))</highlight></codeline>
<codeline lineno="1478"><highlight class="stringliteral"></highlight></codeline>
<codeline lineno="1479"><highlight class="stringliteral"><sp/><sp/><sp/><sp/>&apos;&apos;&apos;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="1480"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/prj/proxy-final/proxy/source/db_layer.py"/>
  </compounddef>
</doxygen>
